{"version":3,"sources":["saveload.js","class/Resource.js","data/resources.js","modules/resources.js","util/notation.js","resources/Resources.png","components/ResourceGrid/ResourceImage.js","components/ResourceGrid/ResourceCost.js","components/ResourceGrid/ResourceAutomates.js","components/ResourceGrid/ResourceRandom.js","components/ResourceGrid/ResourceProduction.js","components/ResourceGrid/Resource.js","modules/prestige.js","util/timeNotation.js","components/ResourceGrid/ResourceGrid.js","components/Aside/Prestige.js","components/Aside/NewGame.js","components/Aside/Booster.js","components/Aside/Stats.js","components/Aside/Aside.js","modules/aside.js","modules/index.js","modules/dataManager.js","store.js","components/Menu.js","App.js","reportWebVitals.js","tick.js","index.js"],"names":["saveKey","DefaultSave","resources","Array","from","length","_","have","lastTime","progress","unlocked","empower","automationDisabled","aside","unlockStatus","Prestige","NewGame","Booster","stats","startTime","Date","getTime","prestige","doingPrestige","doingRespec","empowererRespecTime","totalPrestigeResourceQuantity","lastPrestigeResourceQuantity","tmpPrestigeResourceQuantity","save","savefile","key","localStorage","setItem","JSON","stringify","load","mergeObject","parse","getItem","target","source","i","isArray","mergeArray","constructor","l","Resource","data","this","name","description","unlockAt","_cost","cost","craftTime","craftMultiply","_position","position","randomGrantOnCraft","_effectMultiply","effectMultiply","noCostIfAutomate","defaultQuantity","keepOnPrestige","automates","noConsume","order","canBulkBuy","canEmpower","undefined","x","y","effMult","isAuto","resource","Math","ceil","Resources","TreeSeed","Tree","Log","Plank","Charcoal","Vine","Mushroom","Fruit","Explorer","sqrt","Orchard","Trap","Animal","TreasureMap","Loot","Wall","House","Citizen","CityBuilder","Stone","Pickaxe","CopperOre","IronOre","GoldOre","ShinyStone","mult","GemstonePickaxe","GemBoost","EmeraldStone","AmethystStone","RubyStone","SapphireStone","Brick","Copper","Iron","Gold","Core","Emerald","Amethyst","Ruby","Sapphire","Energy","PickaxeUpgrade","MetalworkUpgrade","LiquidUpgrade","ReplicantiBoostII","floor","Generator","GeneratorUpgrade","min","max","Water","Lava","Steam","SteamProducer","Crucible","UpgradePotion","UpgradePotionII","Sand","Glass","Axe","Saw","Pump","Volcano","MetalworkFactory","CharcoalMiner","GemCutter","Overworld","Underground","Ocean","City","PlanetEssence","DivinePowder","log","DivineShard","Empowerer","FastForward","EmpowerCap","DivineFactory","Cluster","ResourceArr","ReplicantiBoost","Replicanti","replicanti","replicantiBoost","replicantiBoostII","replicantiPow","fill","id","AutoConnected","findIndex","e","includes","getResourceByName","canBuy","bulk","Infinity","resourceName","_have","getCooldown","isUnlocked","CRAFT_START","CRAFT_UPDATE","RESOURCE_UNLOCK","TOGGLE_AUTO","RESOURCE_EMPOWER","REMOVE_EMPOWERER","RESET_RESOURCE_DATA","craftStart","type","craftUpdate","Time","progressIncrement","dontUpdate","resourceUnlock","removeEmpowerer","resetResourceData","canBuyResource","state","buyResource","bulkMax","_order","_Resource","reducer","action","maxBulk","EffectMultiply","chance","toGrant","realChance","grantChance","grantCount","round","random","notation1","notation2","notation3","notation","precision","focusDecimal","numberPartLength","extra","sign","abs","OOM","log10","suffixLevel","suffixPart","numberPart","toFixed","Number","isInteger","Image","styled","div","ResourceImage","size","style","content","backgroundPosition","RescouceCostList","RescouceCostItem","ResourceCostText","span","ResourceCost","map","index","costResourceName","costQuantity","filter","appearAnimation","keyframes","Warpper","ResourceAutomate","icon","faCogs","color","left","bottom","transform","zIndex","_ResourceName","ResourceRandomTable","EffectDisplay","ChanceTable","ChanceItem","connect","RandomTable","padStart","ProductionDisplay","autoConnected","cooldown","namespaceAppear","ResourceWarp","ResourceInfo","ResourceProgress","ResourceQuantity","ResourceGridItem","selectMode","toggleAuto","resourceEmpower","empowerLeft","useState","isHover","setHover","displayName","replace","useSelector","Object","entries","displayResource","onClick","keys","onMouseEnter","onMouseLeave","backgroundColor","opacity","pointerEvents","margin","height","top","display","flexDirection","justifyContent","alignItems","textShadow","fontWeight","React","memo","DO_PRESTIGE","END_PRESTIGE","DO_RESPEC","END_RESPEC","EMPOWERER_RESPEC_TIME","prestigeResourceQuantity","timeNotation","minute","seconds","ResourceWarpper","SelectModeButtons","SelectModeButton","ResourceGrid","setSelectMode","resourceSave","EmpowerLeft","reduce","a","b","RespecCooldown","dispatch","useDispatch","useCallback","Title","ExchangeDispaly","PrestigeButtonContainer","PrestigeButton","doPrestige","PowderHave","ShardHave","canPrestige","faArrowRight","window","confirm","Stats","Container","Aside","lockedStyle","UNLOCK_TAB","toUnlock","rootReducer","combineReducers","IMPORT","reducers","store","createStore","dataManager","MenuContainer","MenuOpen","MenuList","MenuItemAppear","MenuItem","MentItemTitile","MENU_LIST","title","faFileExport","func","toExport","btoa","getState","successState","isSecureContext","navigator","clipboard","writeText","textArea","document","createElement","value","body","appendChild","focus","select","execCommand","removeChild","alert","prompt","faClipboard","encryptedSavefile","toSave","atob","faHistory","faDiscord","open","Menu","menuToggle","setMenuToggle","item","idx","animationDuration","width","faBars","GlobalStyle","createGlobalStyle","MainContainer","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","lastSave","Tick","j","ReactDOM","render","StrictMode","getElementById","setInterval","tick"],"mappings":"6OAAaA,EAAU,gBASVC,EAAc,CACzBC,UAAWC,MAAMC,KAAK,CAAEC,OAAQ,KAAM,SAACC,GAAD,MAAQ,CAC5CC,KAAM,EACNC,SAAU,KACVC,SAAU,EACVC,UAAU,EACVC,QAAS,EACTC,oBAAoB,MAEtBC,MAAO,CACLC,aAAc,CACZC,UAAU,EACVC,SAAS,EACTC,SAAS,IAGbC,MAAO,CACLC,WAAW,IAAIC,MAAOC,WAExBC,SAAU,CACRC,eAAe,EACfC,aAAa,EACbC,oBAAqB,EACrBC,8BAA+B,EAC/BC,6BAA8B,EAC9BC,4BAA6B,IAK1B,SAASC,EAAKC,GAA0B,IAAhBC,EAAe,uDAAT/B,EACnCgC,aAAaC,QAAQF,EAAKG,KAAKC,UAAUL,IAIpC,SAASM,IAAqB,IAAD,EAAfL,EAAe,uDAAT/B,EACzB,OAAOqC,EAAW,UAACH,KAAKI,MAAMN,aAAaO,QAAQR,WAAjC,QAA0C,GAAI9B,GAGlE,SAASoC,EAAYG,EAAQC,GAAS,IAAD,EAEnC,IAAK,IAAMC,KADXF,EAAM,UAAGA,SAAH,QAAa,GACHC,EAAQ,CACS,IAAD,EAA9B,GAAItC,MAAMwC,QAAQF,EAAOC,IACvBF,EAAOE,GAAP,UAAYF,EAAOE,UAAnB,QAAyB,GACzBE,EAAWJ,EAAOE,GAAID,EAAOC,SACxB,GAAkB,OAAdD,EAAOC,GAAa,CAAC,IAAD,EAC7BF,EAAOE,GAAP,UAAYF,EAAOE,UAAnB,QAAyBD,EAAOC,QAC3B,GAAyB,kBAAdD,EAAOC,GACvBF,EAAOE,GAAKL,EAAYG,EAAOE,GAAID,EAAOC,QACrC,CAAC,IAAD,EACLF,EAAOE,GAAKD,EAAOC,GAAGG,YAAV,UAAsBL,EAAOE,UAA7B,QAAmCD,EAAOC,KAG1D,OAAOF,EAET,SAASI,EAAWJ,EAAQC,GAC1B,IAAK,IAAIC,EAAI,EAAGI,EAAIL,EAAOpC,OAAQqC,EAAII,EAAGJ,IACxC,GAAIvC,MAAMwC,QAAQF,EAAOC,IACvBE,EAAWJ,EAAOE,GAAID,EAAOC,SACxB,GAAkB,OAAdD,EAAOC,GAAa,CAAC,IAAD,EAC7BF,EAAOE,GAAP,UAAYF,EAAOE,UAAnB,QAAyBD,EAAOC,QAC3B,GAAyB,kBAAdD,EAAOC,GACvBF,EAAOE,GAAKL,EAAYG,EAAOE,GAAID,EAAOC,QACrC,CAAC,IAAD,EACLF,EAAOE,GAAKD,EAAOC,GAAGG,YAAV,UAAsBL,EAAOE,UAA7B,QAAmCD,EAAOC,IAG1D,OAAOF,EAvCTvC,EAAYC,UAAU,GAAGK,KAAO,E,4BCrCXwC,E,WAqBnB,WAAYC,GAAO,IAAD,0BAChBC,KAAKC,KAAOF,EAAKE,KACjBD,KAAKE,YAAcH,EAAKG,YACxBF,KAAKG,SAAWJ,EAAKI,SACrBH,KAAKI,MAAQL,EAAKM,KAClBL,KAAKM,UAAYP,EAAKO,UACtBN,KAAKO,cAAgBR,EAAKQ,eAAiB,EAC3CP,KAAKQ,UAAYT,EAAKU,SACtBT,KAAKU,mBAAL,UAA0BX,EAAKW,0BAA/B,QAAqD,GACrDV,KAAKW,gBAAkBZ,EAAKa,eAC5BZ,KAAKa,iBAAmBd,EAAKc,mBAAoB,EACjDb,KAAKc,gBAAkBf,EAAKe,iBAAmB,EAC/Cd,KAAKe,eAAiBhB,EAAKgB,iBAAkB,EAC7Cf,KAAKgB,UAAYjB,EAAKiB,UACtBhB,KAAKiB,UAAYlB,EAAKkB,YAAa,EAEnCjB,KAAKkB,MAAQ,EAAElB,KAAKQ,UAAU,GAAKR,KAAKQ,UAAU,GAClDR,KAAKmB,WAAL,UAAkBpB,EAAKoB,kBAAvB,QAA2D,oBAAfnB,KAAKI,MACjDJ,KAAKoB,WAAL,UAAkBrB,EAAKqB,kBAAvB,aAAyDC,IAAnBrB,KAAKM,gBAA8Ce,IAAnBrB,KAAKgB,U,0CAG7E,WACE,MAAO,CACLM,EAAGtB,KAAKQ,UAAU,GAClBe,EAAGvB,KAAKQ,UAAU,M,4BAItB,SAAe3B,GACb,IAAI2C,EAAU,EAOd,MANoC,oBAAzBxB,KAAKW,kBACda,GAAWxB,KAAKW,gBAAgB9B,IAGlC2C,GAAW,EAAI3C,EAASmB,KAAKkB,OAAOxD,QAAQ,I,kBAK9C,SAAKJ,EAAMmE,GACT,IAAIpB,EACJ,GAA0B,qBAAfL,KAAKI,OAA0BqB,GAAUzB,KAAKa,iBACvD,OAAO,KAOT,IAAK,IAAMa,KALTrB,EAD+B,oBAAfL,KAAKI,MACdJ,KAAKI,MAAM9C,GAEX0C,KAAKI,MAGSC,EACrBA,EAAKqB,GAAYC,KAAKC,KAAKvB,EAAKqB,IAC5BrB,EAAKqB,IAAa,UAAUrB,EAAKqB,GAEvC,OAAOrB,M,KCtEEwB,EAAY,CACvBC,SAAU,IAAIhC,EAAS,CACrBG,KAAM,WACNC,YAAa,gBACbc,UAAW,CAAC,QACZb,SAAU,GACVW,gBAAiB,EACjBL,SAAU,CAAC,EAAG,KAEhBsB,KAAM,IAAIjC,EAAS,CACjBG,KAAM,OACNK,UAAW,GACXH,SAAU,GACVM,SAAU,CAAC,EAAG,KAEhBuB,IAAK,IAAIlC,EAAS,CAChBG,KAAM,MACNI,KAAM,CACJ,KAAQ,GAEVC,UAAW,GACXC,cAAe,EACfG,mBAAoB,CAClB,CAAC,KAAQ,WAAY,GACrB,CAAC,IAAM,UAETP,SAAU,CACR,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAEhBwB,MAAO,IAAInC,EAAS,CAClBG,KAAM,QACNI,KAAM,CACJ,IAAO,GAETC,UAAW,GACXC,cAAe,EACfJ,SAAU,CACR,IAAO,GAETM,SAAU,CAAC,EAAG,KAEhByB,SAAU,IAAIpC,EAAS,CACrBG,KAAM,WACNI,KAAM,CACJ,MAAS,GAEXC,UAAW,EACXC,cAAe,EACfJ,SAAU,CACR,UAAa,GAEfU,kBAAkB,EAClBJ,SAAU,CAAC,EAAG,KAEhB0B,KAAM,IAAIrC,EAAS,CACjBG,KAAM,OACNE,SAAU,CACR,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAEhB2B,SAAU,IAAItC,EAAS,CACrBG,KAAM,WACNE,SAAU,CACR,SAAY,GAEdM,SAAU,CAAC,EAAG,KAEhB4B,MAAO,IAAIvC,EAAS,CAClBG,KAAM,QACNK,UAAW,GACXH,SAAU,CACR,MAAS,GAEXM,SAAU,CAAC,EAAG,KAEhB6B,SAAU,IAAIxC,EAAS,CACrBG,KAAM,WACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,KAAQ,GAAG,KAAH,IAAIA,EAAK,EAAI,KACrB,YAAe,GAAG,KAAH,IAAIA,EAAK,EAAI,KAC5B,QAAW,IAAI,KAAJ,IAAKA,EAAK,EAAE,EAAI,KAC3B,OAAU,GAAG,KAAH,IAAIA,EAAK,EAAI,KACvB,MAAS,IAAK,KAAL,IAAMA,EAAK,EAAI,KACxB,OAAS,KAAT,IAAU,GAAK,IAAIqE,KAAKY,KAAKjF,EAAK,MAEpC0D,UAAW,CAAC,OAAQ,SAAU,cAAe,QAC7CV,UAAW,IACXH,SAAU,CACR,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAGhB+B,QAAS,IAAI1C,EAAS,CACpBG,KAAM,UACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,QAAW,EAAE,KAAF,IAAQ,EAALA,EAAS,KACvB,MAAS,EACT,KAAQ,KAAMA,EAAK,GACnB,MAAS,GAAG,KAAH,IAAIA,EAAK,EAAI,OAExB0D,UAAW,CAAC,SACZV,UAAW,IACXH,SAAU,CACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhBgC,KAAM,IAAI3C,EAAS,CACjBG,KAAM,OACNI,KAAM,CACJ,KAAQ,IACR,OAAU,GACV,MAAS,GACT,MAAS,GAEXC,UAAW,GACXH,SAAU,CACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhBiC,OAAQ,IAAI5C,EAAS,CACnBG,KAAM,SACNI,KAAM,CACJ,KAAQ,GAEVK,mBAAoB,CAClB,CAAC,GAAK,WAERJ,UAAW,GACXH,SAAU,CACR,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAEhBkC,YAAa,IAAI7C,EAAS,CACxBG,KAAM,cACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,WAAc,IAAI,KAAK,EAAE,GAAG,SAAAA,EAAM,IAAI,IAAI,IAC1C,MAAS,IAAI,KAAK,EAAE,GAAG,SAAAA,EAAM,IAAI,IAAI,IACrC,MAAS,GAAG,IAAI,EAAE,GAAG,SAAAA,EAAM,IAAI,IAAI,MAErCoD,mBAAoB,CAClB,CAAC,IAAM,gBAETJ,UAAW,GACXH,SAAU,CACR,OAAU,GAEZM,SAAU,CAAC,EAAG,KAEhBmC,KAAM,IAAI9C,EAAS,CACjBG,KAAM,OACNI,KAAM,CACJ,QAAW,EACX,OAAU,EACV,YAAe,EACf,OAAU,KAEZK,mBAAoB,CAClB,CAAC,GAAK,YACN,CAAC,GAAK,QACN,CAAC,IAAM,YACP,CAAC,IAAM,kBAETJ,UAAW,GACXH,SAAU,CACR,YAAe,GAEjBM,SAAU,CAAC,EAAG,KAEhBoC,KAAM,IAAI/C,EAAS,CACjBG,KAAM,OACNI,KAAM,CACJ,MAAS,GAEXC,UAAW,GACXH,SAAU,CACR,MAAS,GAEXM,SAAU,CAAC,EAAG,KAEhBqC,MAAO,IAAIhD,EAAS,CAClBG,KAAM,QACNI,KAAM,CACJ,KAAQ,EACR,MAAS,GAEXC,UAAW,GACXH,SAAU,CACR,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAEhBsC,QAAS,IAAIjD,EAAS,CACpBG,KAAM,UACNI,KAAM,CACJ,MAAS,EACT,MAAS,GAEXC,UAAW,GACXH,SAAU,CACR,MAAS,GAEXM,SAAU,CAAC,EAAG,KAEhBuC,YAAa,IAAIlD,EAAS,CACxBG,KAAM,cACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,QAAW,EAAE,KAAF,IAAGA,EAAK,EAAI,GACvB,OAAU,IAAI,KAAJ,IAAKA,EAAK,EAAI,KACxB,KAAQ,IAAI,KAAJ,IAAKA,EAAK,EAAI,KACtB,KAAQ,IAAI,KAAJ,IAAKA,EAAK,EAAI,OAExBgD,UAAW,IACXU,UAAW,CAAC,QAAS,OAAQ,QAAS,QAAS,WAC/Cb,SAAU,CACR,OAAU,GAEZM,SAAU,CAAC,EAAG,KAGhBwC,MAAO,IAAInD,EAAS,CAClBG,KAAM,QACNK,UAAW,GACXI,mBAAoB,CAClB,CAAC,IAAM,QACP,CAAC,IAAM,aACP,CAAC,IAAM,WACP,CAAC,KAAO,WACR,CAAC,KAAO,iBAEVR,YAAa,iEACbU,eAAgB,SAAC/B,GAAD,gBAAcA,EAASgD,EAAUqB,QAAQhC,OAAO5D,KAAM,MACtE6C,SAAU,CACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhB0C,UAAW,IAAIrD,EAAS,CACtBG,KAAM,YACNE,SAAU,CACR,UAAa,GAEfM,SAAU,CAAC,EAAG,KAEhB2C,QAAS,IAAItD,EAAS,CACpBG,KAAM,UACNE,SAAU,CACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhB4C,QAAS,IAAIvD,EAAS,CACpBG,KAAM,UACNE,SAAU,CACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhB6C,WAAY,IAAIxD,EAAS,CACvBG,KAAM,aACNK,UAAW,GACXI,mBAAoB,CAClB,CAAC,IAAM,gBACP,CAAC,KAAO,iBACR,CAAC,KAAO,aACR,CAAC,KAAO,iBACR,CAAC,KAAe,SAElBR,YAAa,0EACbU,eAAgB,SAAC/B,GACf,IAAI0E,EAAO,EAGX,OAFAA,GAAQ1E,EAASgD,EAAU2B,gBAAgBtC,OAAO5D,KAClDiG,GAAQ,EAAE1E,EAASgD,EAAU4B,SAASvC,OAAO5D,KAAK,GAGpD6C,SAAU,CACR,gBAAmB,GAErBM,SAAU,CAAC,EAAG,KAEhBiD,aAAc,IAAI5D,EAAS,CACzBG,KAAM,eACNE,SAAU,CACR,aAAgB,GAElBM,SAAU,CAAC,EAAG,KAEhBkD,cAAe,IAAI7D,EAAS,CAC1BG,KAAM,gBACNE,SAAU,CACR,cAAiB,GAEnBM,SAAU,CAAC,EAAG,KAEhBmD,UAAW,IAAI9D,EAAS,CACtBG,KAAM,YACNE,SAAU,CACR,UAAa,GAEfM,SAAU,CAAC,EAAG,KAEhBoD,cAAe,IAAI/D,EAAS,CAC1BG,KAAM,gBACNE,SAAU,CACR,cAAiB,GAEnBM,SAAU,CAAC,EAAG,KAGhBqD,MAAO,IAAIhE,EAAS,CAClBG,KAAM,QACNI,KAAM,CACJ,MAAS,EACT,SAAY,GAEdC,UAAW,EACXH,SAAU,CACR,MAAS,EACT,SAAY,GAEdM,SAAU,CAAC,EAAG,KAEhBsD,OAAQ,IAAIjE,EAAS,CACnBG,KAAM,SACNI,KAAM,CACJ,UAAa,EACb,SAAY,GAEdC,UAAW,GACXH,SAAU,CACR,UAAa,GAEfM,SAAU,CAAC,EAAG,KAEhBuD,KAAM,IAAIlE,EAAS,CACjBG,KAAM,OACNI,KAAM,CACJ,QAAW,EACX,SAAY,GAEdC,UAAW,GACXH,SAAU,CACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhBwD,KAAM,IAAInE,EAAS,CACjBG,KAAM,OACNI,KAAM,CACJ,QAAW,EACX,SAAY,GAEdC,UAAW,GACXH,SAAU,CACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhByD,KAAM,IAAIpE,EAAS,CACjBG,KAAM,OACNE,SAAU,CACR,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAEhB0D,QAAS,IAAIrE,EAAS,CACpBG,KAAM,UACNI,KAAM,CACJ,aAAgB,GAChB,KAAQ,GAEVK,mBAAoB,CAClB,CAAC,GAAK,UAERP,SAAU,CACR,aAAgB,GAElBG,UAAW,GACXG,SAAU,CAAC,EAAG,KAEhB2D,SAAU,IAAItE,EAAS,CACrBG,KAAM,WACNI,KAAM,CACJ,cAAiB,GACjB,KAAQ,GAEVK,mBAAoB,CAClB,CAAC,GAAK,UAERJ,UAAW,GACXH,SAAU,CACR,cAAiB,GAEnBM,SAAU,CAAC,EAAG,KAEhB4D,KAAM,IAAIvE,EAAS,CACjBG,KAAM,OACNI,KAAM,CACJ,UAAa,GACb,KAAQ,GAEVK,mBAAoB,CAClB,CAAC,GAAK,UAERJ,UAAW,GACXH,SAAU,CACR,UAAa,GAEfM,SAAU,CAAC,EAAG,KAEhB6D,SAAU,IAAIxE,EAAS,CACrBG,KAAM,WACNI,KAAM,CACJ,cAAiB,GACjB,KAAQ,GAEVK,mBAAoB,CAClB,CAAC,GAAK,UAERJ,UAAW,GACXH,SAAU,CACR,cAAiB,GAEnBM,SAAU,CAAC,EAAG,KAGhB8D,OAAQ,IAAIzE,EAAS,CACnBG,KAAM,SACNK,UAAW,GACXI,mBAAoB,CAClB,CAAC,IAAM,eAETP,SAAU,CACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhB+D,eAAgB,IAAI1E,EAAS,CAC3BG,KAAM,iBACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,OAAU,EAAE,KAAF,IAAE,IAAMA,EAAK,GACvB,QAAW,GAAGA,EAAK,KAErBgD,UAAW,GACXH,SAAU,CACR,OAAU,EACV,QAAW,GAEbiB,YAAY,EACZX,SAAU,CAAC,EAAG,KAEhBgD,SAAU,IAAI3D,EAAS,CACrBG,KAAM,WACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,QAAW,IAAS,GAALA,GAAL,SAAc,IAAMA,EAAK,GACnC,SAAY,EAAE,KAAF,IAAGA,EAAK,EAAI,OAE1BgD,UAAW,GACXH,SAAU,CACR,OAAU,EACV,WAAc,GAEhBiB,YAAY,EACZX,SAAU,CAAC,EAAG,KAEhBgE,iBAAkB,IAAI3E,EAAS,CAC7BG,KAAM,mBACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,OAAU,IAAK,KAAL,IAAK,EAAI,SAAAA,EAAM,KAAK,GAC9B,cAAiB,EAAE,SAACA,EAAM,KAAK,EAC/B,KAAQ,IAAI,KAAJ,IAAKA,EAAK,EAAE,EAAI,OAE1BgD,UAAW,GACXH,SAAU,CACR,cAAiB,GAEnBiB,YAAY,EACZX,SAAU,CAAC,EAAG,KAEhBiE,cAAe,IAAI5E,EAAS,CAC1BG,KAAM,gBACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,OAAS,KAAT,IAAU,GAAK,EAAE,KAAF,IAAEA,EAAM,KAAKA,EAAK,IACjC,cAAiB,IAAIA,EAAK,GAC1B,KAAQ,IAAIA,EAAK,GACjB,MAAS,IAAK,KAAL,IAAMA,EAAK,EAAI,KACxB,KAAQ,KAAKA,EAAK,KAEpBgD,UAAW,GACXH,SAAU,CACR,iBAAoB,GAEtBiB,YAAY,EACZX,SAAU,CAAC,EAAG,KAEhBkE,kBAAmB,IAAI7E,EAAS,CAC9BG,KAAM,oBACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,OAAS,KAAT,IAAU,GAAK,GAAQ,EAALA,GAClB,WAAa,KAAb,IAAc,GAAK,GAAQ,EAALA,GACtB,gBAAmB,EAAEqE,KAAKiD,MAALjD,KAAA,IAAWrE,EAAM,MACtC,SAAY,IAAK,KAAL,IAAOA,EAAK,EAAI,OAE9BgD,UAAW,GACXH,SAAU,CACR,gBAAmB,GAErBiB,YAAY,EACZX,SAAU,CAAC,EAAG,KAEhBoE,UAAW,IAAI/E,EAAS,CACtBG,KAAM,YACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,KAAQ,GAAG,KAAH,IAAIA,EAAK,EAAI,IACrB,KAAQ,EAAEA,EACV,MAAS,EAAE,KAAF,IAAEA,EAAM,IACjB,QAAW,EAAE,KAAF,IAAEA,EAAM,MAErBgD,UAAW,IACXM,eAAgB,SAAC/B,GAAD,gBAAc,EAAGA,EAASgD,EAAUiD,iBAAiB5D,OAAO5D,OAC5E0D,UAAW,CAAC,UACZb,SAAU,CACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhBqE,iBAAkB,IAAIhF,EAAS,CAC7BG,KAAM,mBACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,MAASqE,KAAKoD,IAAI,IAATpD,KAAA,IAAkB,EAAI,IAAI,KAAJ,IAAIrE,EAAM,OAA8B,IAArBqE,KAAKqD,IAAI,EAAG1H,EAAK,IACnE,WAAa,KAAb,IAAc,IAAMA,EAAK,EAAL,SAAOqE,KAAKqD,IAAI,EAAG1H,EAAK,IAAK,IAAIqE,KAAKqD,IAAI,EAAG1H,EAAK,OAExEgD,UAAW,GACXH,SAAU,CACR,gBAAmB,GAErBiB,YAAY,EACZX,SAAU,CAAC,EAAG,KAGhBwE,MAAO,IAAInF,EAAS,CAClBG,KAAM,QACNK,UAAW,IACXH,SAAU,CACR,OAAU,GAEZM,SAAU,CAAC,EAAG,KAEhByE,KAAM,IAAIpF,EAAS,CACjBG,KAAM,OACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,MAAS,IAAI,IAAI,EAAE,GAAGA,EAAK,GAAG,IAC9B,SAAY,GAAG,IAAI,EAAE,GAAGA,EAAK,EAAE,MAEjC6C,SAAU,CACR,MAAS,EACT,SAAY,GAEdG,UAAW,IACXa,YAAY,EACZV,SAAU,CAAC,EAAG,KAEhB0E,MAAO,IAAIrF,EAAS,CAClBG,KAAM,QACNI,KAAM,CACJ,MAAS,EACT,KAAQ,GAEVC,UAAW,GACXC,cAAe,EACfJ,SAAU,CACR,MAAS,EACT,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAEhB2E,cAAe,IAAItF,EAAS,CAC1BG,KAAM,gBACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,OAAU,aAAQA,EAAK,EAAI,KAC3B,MAAS,IAAK,KAAL,IAAMA,EAAK,EAAI,KACxB,KAAQ,IAAK,KAAL,IAAMA,EAAK,EAAI,KACvB,OAAS,KAAT,IAAU,GAAK,IAAIqE,KAAKY,KAAKjF,EAAK,OAEpC0D,UAAW,CAAC,SACZV,UAAW,IACXH,SAAU,CACR,MAAS,GACT,OAAU,GAEZM,SAAU,CAAC,EAAG,KAEhB4E,SAAU,IAAIvF,EAAS,CACrBG,KAAM,WACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,gBAAmB,EACnB,KAAQ,KAAQA,EAAK,GACrB,OAAU,KAAQA,EAAK,GACvB,MAAS,KAAQA,EAAK,GACtB,QAAW,GAAQ,EAALA,IAEhB0D,UAAW,CAAC,gBAAiB,mBAC7BV,UAAW,IACXH,SAAU,CACR,gBAAmB,GAErBM,SAAU,CAAC,EAAG,KAEhB6E,cAAe,IAAIxF,EAAS,CAC1BG,KAAM,gBACNI,KAAM,CACJ,KAAQ,EACR,SAAY,EACZ,MAAS,EACT,QAAW,IAEbC,UAAW,GACXH,SAAU,CACR,KAAQ,EACR,SAAY,GAEdM,SAAU,CAAC,EAAG,KAEhB8E,gBAAiB,IAAIzF,EAAS,CAC5BG,KAAM,kBACNI,KAAM,CACJ,cAAiB,IACjB,KAAQ,EACR,MAAS,IACT,KAAQ,KACR,KAAQ,IACR,SAAY,KAEdC,UAAW,IACXH,SAAU,CACR,cAAiB,EACjB,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAEhB+E,KAAM,IAAI1F,EAAS,CACjBG,KAAM,OACNE,SAAU,CACR,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAEhBgF,MAAO,IAAI3F,EAAS,CAClBG,KAAM,QACNI,KAAM,CACJ,KAAQ,EACR,SAAY,GAEdC,UAAW,EACXH,SAAU,CACR,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAGhBiF,IAAK,IAAI5F,EAAS,CAChBG,KAAM,MACNC,YAAa,YACbG,KAAM,SAAC/C,GAAD,MAAW,CACf,MAAS,WAAKA,EAAK,EAAI,KAEzBgD,UAAW,EACXU,UAAW,CAAC,OACZb,SAAU,CACR,MAAS,GAEXM,SAAU,CAAC,EAAG,KAEhBkF,IAAK,IAAI7F,EAAS,CAChBG,KAAM,MACNC,YAAa,kBACbG,KAAM,SAAC/C,GAAD,MAAW,CACf,OAAU,aAAOA,EAAK,EAAI,KAC1B,KAAQ,WAAKA,EAAK,EAAI,OAExBgD,UAAW,GACXU,UAAW,CAAC,SACZb,SAAU,CACR,OAAU,EACV,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAEhByC,QAAS,IAAIpD,EAAS,CACpBG,KAAM,UACNC,YAAa,4BACbG,KAAM,SAAC/C,GAAD,MAAW,CACf,MAAS,YAAMA,EAAO,EAAKA,EAAO,IAAM,GACxC,MAAS,WAAIA,EAAM,KACnB,OAAU,WAAIqE,KAAKqD,IAAI,EAAG1H,EAAK,GAAI,GACnC,KAAQ,WAAIqE,KAAKqD,IAAI,EAAG1H,EAAK,GAAI,GACjC,KAAQ,WAAIqE,KAAKqD,IAAI,EAAG1H,EAAK,IAAK,KAEpCgD,UAAW,GACXU,UAAW,CAAC,SACZJ,eAAgB,SAAC/B,GACf,IAAI0E,EAAO,EAGX,OAFAA,GAAQ1E,EAASgD,EAAU2B,gBAAgBtC,OAAO5D,KAAK,EAAI,EAC3DiG,GAAQ1E,EAASgD,EAAU2C,eAAetD,OAAO5D,KAAK,EAAI,GAG5D6C,SAAU,CACR,MAAS,GAEXM,SAAU,CAAC,EAAG,KAEhB+C,gBAAiB,IAAI1D,EAAS,CAC5BG,KAAM,kBACNC,YAAa,kDACbG,KAAM,SAAC/C,GAAD,MAAW,CACf,KAAQ,KAAOA,EAAK,GACpB,QAAW,GAAKA,EAAK,GACrB,SAAY,GAAKA,EAAK,GACtB,KAAQ,GAAKA,EAAK,GAClB,SAAY,GAAKA,EAAK,KAExBgD,UAAW,IACXU,UAAW,CAAC,cACZJ,eAAgB,SAAC/B,GACf,IAAI0E,EAAO,EAEX,OADAA,GAAQ1E,EAASgD,EAAU2C,eAAetD,OAAO5D,KAAK,EAAI,GAG5D6C,SAAU,CACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhBmF,KAAM,IAAI9F,EAAS,CACjBG,KAAM,OACNC,YAAa,kBACbG,KAAM,SAAC/C,GAAD,MAAW,CACf,OAAU,EAAE,KAAF,IAAGA,EAAK,EAAI,KACtB,KAAQ,EAAE,KAAF,IAAGA,EAAK,EAAI,KACpB,KAAQ,EAAE,KAAF,IAAGA,EAAK,EAAI,OAEtBgD,UAAW,GACXU,UAAW,CAAC,SACZJ,eAAgB,SAAC/B,GAAD,OAAcA,EAASgD,EAAU6C,cAAcxD,OAAO5D,KAAK,EAAE,GAC7E6C,SAAU,CACR,OAAU,GAEZM,SAAU,CAAC,EAAG,KAEhBoF,QAAS,IAAI/F,EAAS,CACpBG,KAAM,UACNC,YAAa,iBACbG,KAAM,SAAC/C,GAAD,MAAW,CACf,MAAS,IACT,KAAQ,GAAGA,EAAK,IAAIA,EAAK,GAAG,KAE9BgD,UAAW,GACXU,UAAW,CAAC,QACZJ,eAAgB,SAAC/B,GAAD,OAAcA,EAASgD,EAAU6C,cAAcxD,OAAO5D,KAAK,EAAE,GAC7E6C,SAAU,CACR,KAAQ,GAEVM,SAAU,CAAC,EAAG,KAEhBqF,iBAAkB,IAAIhG,EAAS,CAC7BG,KAAM,mBACNC,YAAa,kCACbG,KAAM,SAAC/C,GAAD,MAAW,CACf,OAAU,GAAG,KAAH,IAAKA,EAAK,EAAI,MACxB,KAAQ,GAAG,KAAH,IAAKA,EAAK,EAAI,MACtB,KAAQ,GAAG,KAAH,IAAKA,EAAK,EAAI,MACtB,KAAQ,EACR,QAAW,IAEbgD,UAAW,IACXU,UAAW,CAAC,OAAQ,OAAQ,UAC5BJ,eAAgB,SAAC/B,GAAD,OAAcA,EAASgD,EAAU4C,iBAAiBvD,OAAO5D,KAAK,EAAE,GAChF6C,SAAU,CACR,KAAQ,EACR,QAAW,GAEbM,SAAU,CAAC,EAAG,KAEhBsF,cAAe,IAAIjG,EAAS,CAC1BG,KAAM,gBACNC,YAAa,kCACbG,KAAM,SAAC/C,GAAD,MAAW,CACf,MAAS,GAAG,KAAH,IAAIA,EAAK,EAAI,KACtB,KAAQ,EACR,KAAQ,IAAIA,EAAK,IAAI,EAAEA,EAAK,IAC5B,QAAW,EAAEA,IAEfgD,UAAW,IACXU,UAAW,CAAC,YACZb,SAAU,CACR,iBAAoB,GAEtBM,SAAU,CAAC,EAAG,KAEhBuF,UAAW,IAAIlG,EAAS,CACtBG,KAAM,YACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,OAAU,YAAK,EAAE,KAAF,IAAQ,EAALA,EAAS,MAAQ,KAAO,KAAK,KAAL,IAAM,EAAN,SAAWA,EAAK,GAAK,KAArD,SAA6D,GAAK,EAAE,KAAF,IAAQ,EAALA,EAAS,MACxF,KAAQ,IAAK,KAAL,IAAMA,EAAK,EAAI,KACvB,MAAS,IAAI,KAAJ,IAAKA,EAAK,EAAI,KACvB,KAAQ,IAAI,KAAJ,IAAKA,EAAK,EAAI,OAExB0D,UAAW,CAAC,UAAW,WAAY,OAAQ,YAC3CV,UAAW,IACXH,SAAU,CACR,cAAiB,EACjB,OAAU,EACV,QAAW,GAEbM,SAAU,CAAC,EAAG,KAGhBwF,UAAW,IAAInG,EAAS,CACtBG,KAAM,YACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,YAAe,IAAIA,EAAK,GACxB,KAAQ,MAAWA,EAAK,GACxB,KAAQ,KAAOA,EAAK,GACpB,SAAY,KAAKA,EAAK,KAExB0D,UAAW,CACT,WACA,MACA,MACA,gBACA,YAEFV,UAAW,KACXH,SAAU,CACR,YAAe,GAEjBY,gBAAgB,EAChBN,SAAU,CAAC,EAAG,KAEhByF,YAAa,IAAIpG,EAAS,CACxBG,KAAM,cACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,YAAe,KAAKA,EAAK,GACzB,MAAS,MAAMA,EAAK,GACpB,KAAQ,GAAGA,EAAK,GAChB,QAAW,KAAKA,EAAK,GACrB,SAAY,KAAOA,EAAK,KAE1BgD,UAAW,IACXU,UAAW,CACT,UACA,kBACA,UACA,kBAEFb,SAAU,CACR,UAAa,EACb,KAAQ,GAEVY,gBAAgB,EAChBN,SAAU,CAAC,EAAG,KAEhB0F,MAAO,IAAIrG,EAAS,CAClBG,KAAM,QACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,YAAe,KAAKA,EAAK,GACzB,MAAS,KAAKA,EAAK,GACnB,KAAQ,KAAKA,EAAK,GAClB,MAAS,KAAQA,EAAK,GACtB,gBAAmB,GAAGA,EAAK,KAE7BgD,UAAW,IACXU,UAAW,CACT,UACA,OACA,gBACA,WACA,iBAEFb,SAAU,CACR,YAAe,GAEjBY,gBAAgB,EAChBN,SAAU,CAAC,EAAG,KAEhB2F,KAAM,IAAItG,EAAS,CACjBG,KAAM,OACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,YAAe,MAAMA,EAAK,GAC1B,MAAS,KAAKA,EAAK,GACnB,QAAW,MAAQA,EAAK,GACxB,MAAS,KAAOA,EAAK,GACrB,UAAa,KAAKA,EAAK,KAEzBgD,UAAW,KACXU,UAAW,CACT,cACA,YACA,mBACA,YACA,oBAEFb,SAAU,CACR,MAAS,GAEXY,gBAAgB,EAChBN,SAAU,CAAC,EAAG,KAEhB4F,cAAe,IAAIvG,EAAS,CAC1BG,KAAM,gBAINe,UAAW,CACT,kBACA,qBAEFD,gBAAgB,EAChBN,SAAU,CAAC,EAAG,KAGhB6F,aAAc,IAAIxG,EAAS,CACzBG,KAAM,eACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,WAAc,YAAK,SAACA,EAAK,EAAI,KAAK,GAAK,KAAO,8BAAUA,EAAO,EAAuB,EAArBqE,KAAK4E,IAAIjJ,EAAK,IAAI,IAArE,SAA6E,GAAK,SAACA,EAAK,EAAI,KAAK,GAC/G,OAAS,KAAT,IAAU,GAAK,EAAE,SAACqE,KAAK4E,IAAIjJ,EAAK,EAAE,GAAI,MAAM,EAAEqE,KAAK4E,IAAIjJ,EAAK,IAAM,KAClE,SAAY,EAAE,KAAF,IAAEA,EAAM,IACpB,cAAgB,KAAhB,IAAiBqE,KAAKiD,MAAMtH,EAAK,KAAM,IACvC,iBAAoBA,EAAK,MAAS,GAAc,IAATA,GAApB,SAAkCqE,KAAKiD,MAAMtH,EAAK,KAAO,MAE9EgD,UAAW,EACXH,SAAU,CACR,WAAc,EACd,OAAU,GAEZiB,YAAY,EACZX,SAAU,CAAC,EAAG,KAEhB+F,YAAa,IAAI1G,EAAS,CACxBG,KAAM,cACNE,SAAU,CACR,aAAgB,GAElBY,gBAAgB,EAChBN,SAAU,CAAC,EAAG,KAEhBgG,UAAW,IAAI3G,EAAS,CACtBG,KAAM,YACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,YAAe,EAAEqE,KAAKiD,MAALjD,KAAA,IAAWrE,EAAM,QAEpCgD,UAAW,GACXH,SAAU,CACR,YAAe,GAEjBY,gBAAgB,EAChBK,YAAY,EACZX,SAAU,CAAC,EAAG,KAEhBiG,YAAa,IAAI5G,EAAS,CACxBG,KAAM,cACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,YAAe,IAAI,EAAE,SAAAA,EAAM,KAAI,IAAI,EAAIqE,KAAKqD,IAAI,EAAG1H,EAAK,IAAI,GAC5D,QAAW,EAAEA,IAEfgD,UAAW,IACXH,SAAU,CACR,UAAa,GAEfS,eAAgB,SAAC/B,GACf,IAAI6H,EAAc7H,EAASgD,EAAU6E,YAAYxF,OAAO5D,KACxD,OAAO,EAAGoJ,GAAcA,EAAY,GAAG,IAEzCtF,YAAY,EACZL,gBAAgB,EAChBN,SAAU,CAAC,EAAG,KAEhBkG,WAAY,IAAI7G,EAAS,CACvBG,KAAM,aACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,YAAe,WAAIqE,KAAKY,KAAKjF,GAAM,KAAO,GAC1C,QAAW,IAAIA,EAAK,GACpB,gBAAkB,KAAlB,IAAoBA,EAAK,EAAK,EAAEA,EAAK,MAEvCgD,UAAW,IACXH,SAAU,CACR,YAAe,EACf,gBAAmB,GAErBiB,YAAY,EACZL,gBAAgB,EAChBN,SAAU,CAAC,EAAG,KAEhBmG,cAAe,IAAI9G,EAAS,CAC1BG,KAAM,gBACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,YAAe,IAAI,KAAJ,IAAMA,EAAK,EAAI,GAC9B,QAAW,GAAG,EAAEA,EAChB,iBAAoB,IAAIA,EAAK,KAE/B0D,UAAW,CAAC,gBACZV,UAAW,IACXH,SAAU,CACR,YAAe,GAEjBY,gBAAgB,EAChBK,YAAY,EACZX,SAAU,CAAC,EAAG,KAEhBoG,QAAS,IAAI/G,EAAS,CACpBG,KAAM,UACNI,KAAM,SAAC/C,GAAD,oBACJ,WAAcqE,KAAKiD,MAALjD,KAAA,IAAW,GAAKrE,EAAK,EAAL,SAASqE,KAAKqD,IAAI,EAAG1H,EAAK,IAAK,OAC5DwJ,GAAaxJ,EAAK,GAAG,IAAMwJ,GAAaxJ,EAAK,GAAG,IAAI2C,KAAO,cAAgB,EAAE3C,IAEhFgD,UAAW,IACXH,SAAU,CACR,UAAa,GAEfY,gBAAgB,EAChBE,WAAW,EACXG,YAAY,EACZX,SAAU,CAAC,EAAG,KAEhBsG,gBAAiB,IAAIjH,EAAS,CAC5BG,KAAM,kBACNI,KAAM,SAAC/C,GAAD,MAAW,CACf,WAAa,KAAb,IAAc,GAAKA,EAAK,GACxB,OAAS,KAAT,IAAU,GAAK,IAAI,KAAJ,IAAIA,EAAM,IAAIqE,KAAKqD,IAAI,EAAG1H,EAAK,IAAI,KAEpDgD,UAAW,IACXH,SAAU,CACR,WAAc,GAEhBiB,YAAY,EACZX,SAAU,CAAC,EAAG,KAEhBuG,WAAY,IAAIlH,EAAS,CACvBG,KAAM,aACNI,KAAM,CACJ,WAAc,GAEhBE,cAAe,EACfK,eAAgB,SAAC/B,GACf,IAAMoI,EAAapI,EAASgD,EAAUmF,WAAW9F,OAAO5D,KAClD4J,EAAkBrI,EAASgD,EAAUkF,gBAAgB7F,OAAO5D,KAC5D6J,EAAoBtI,EAASgD,EAAU8C,kBAAkBzD,OAAO5D,KAEhE8J,EAAgB,GAAM,IAAM,EAAE,GAAGF,EAAgB,GAAG,IAC1D,OAFuB,SAAC,EAAGC,GAAJ,SAA0B,IAAMxF,KAAKoD,IAAI,GAAImC,EAAgB,GAA7BvF,KAAA,IAAkCA,KAAKqD,IAAI,EAAGkC,EAAgB,IAAK,MAEpG,KAAD,IAAED,EAAW,EAAIG,IAAeH,EAAW,IAElE9G,SAAU,CACR,WAAc,GAEhBa,UAAW,CAAC,cACZV,UAAW,GACXG,SAAU,CAAC,EAAG,MAOLqG,EAAc,IAAI5J,MAAM,IAAImK,KAAK,MAC9C,IAAK,IAAMC,KAAMzF,EAAW,CAE1B,IAAM/B,EAAW+B,EAAUyF,GACrB7G,EAAW,EAAEX,EAASW,SAASc,EAAIzB,EAASW,SAASa,EAC3DwF,EAAYrG,GAAYX,EAGnB,IAAMyH,EAAgBrK,MAAMC,KAAK,CAAEC,OAAQ,KAAM,SAACC,EAAGoC,GAC1D,OAAKqH,EAAYrH,GACVqH,EAAYU,WAAU,SAAAC,GAAC,SAAIA,IAAKA,EAAEzG,YAAYyG,EAAEzG,UAAU0G,SAASZ,EAAYrH,GAAGQ,UAD5D,KAUxB,SAAS0H,EAAkB1H,GAChC,OAAO4B,EAAU5B,GAUZ,SAAS2H,EAAO3H,EAAMpB,GAC3B,IAAMiB,EAAW6H,EAAkB1H,GACnC,GAAqD,OAAjDpB,EAAS5B,UAAU6C,EAASoB,OAAOhD,UAAvC,CAEA,IAAMmC,EAAOP,EAASO,KAAKxB,EAAS5B,UAAU6C,EAASoB,OAAO5D,MAE1DuK,EAAOC,IACX,GAAa,OAATzH,EAAe,OAAOwH,EAE1B,IAAK,IAAME,KAAgB1H,EAAM,CAC/B,IAAMD,EAAQC,EAAK0H,GACbC,EAAQnJ,EAAS5B,UAAU0K,EAAkBI,GAAc7G,OAAO5D,KACxE,GAAI8C,EAAQ4H,EAAO,OAAO,EAC1BH,EAAOlG,KAAKoD,IAAI8C,EAAMG,EAAM5H,GAE9B,OAAOuB,KAAKiD,MAAMiD,IA0Bb,SAASI,EAAYhI,EAAMpB,GAChC,IAAMiB,EAAW+B,EAAU5B,GACrBiB,EAAQpB,EAASoB,MAEnBZ,EAA+B,IAAnBR,EAASQ,UAQzB,OAP8B,IAA1BiH,EAAcrG,KAChBZ,GAAaqB,KAAKqD,IAAI,EAAGnG,EAAS5B,UAAUsK,EAAcrG,IAAQ5D,MAC9DuB,EAAS5B,UAAUsK,EAAcrG,IAAQ5D,MAAQ,IAAGgD,GAAawG,EAAYS,EAAcrG,IAAQN,eAAe/B,EAAS5B,aAEjIqD,GAAauB,EAAU6E,YAAY9F,eAAe/B,EAAS5B,WAC3DqD,GAAa,EAAIzB,EAAS5B,UAAUiE,GAAOxD,QAAQ,EAI9C,SAASwK,EAAWjI,EAAMpB,GAC/B,IAAMiB,EAAW+B,EAAU5B,GAE3B,IAAKH,IAAaA,EAASK,SAAU,OAAO,EAC5C,IAAK,IAAMF,KAAQH,EAASK,SAC1B,GAAItB,EAASgD,EAAU5B,GAAMiB,OAAO5D,KAAOwC,EAASK,SAASF,GAAO,OAAO,EAE7E,OAAO,ECzoCT,IAAMkI,EAAc,uBACdC,EAAe,wBACfC,EAAkB,2BAClBC,EAAc,uBACdC,EAAmB,mBACnBC,EAAmB,4BACnBC,EAAsB,+BAEfC,EAAa,SAACxH,EAAOO,GAAR,MAAoB,CAC5CkH,KAAMR,EACNjH,QACAO,WAEWmH,EAAc,SAAC,GAAD,IACzB1H,EADyB,EACzBA,MACAO,EAFyB,EAEzBA,OACAoH,EAHyB,EAGzBA,KACAC,EAJyB,EAIzBA,kBACAC,EALyB,EAKzBA,WALyB,MAMpB,CACLJ,KAAMP,EACNlH,QACAO,SACAoH,OACAC,oBACAC,eAEWC,EAAiB,SAAC9H,GAAD,MAAY,CACxCyH,KAAMN,EACNnH,UAUW+H,EAAkB,SAAC/H,GAAD,MAAY,CACzCyH,KAAMH,EACNtH,UAEWgI,EAAoB,SAAChI,GAAD,MAAY,CAC3CyH,KAAMF,EACNvH,UAGF,SAASiI,EAAeC,EAAO/I,GAC7B,IAAK,IAAM0H,KAAgB1H,EAAM,CAC/B,IAAMD,EAAQC,EAAK0H,GAEnB,GAAIqB,EADWvH,EAAUkG,GAAc7G,OACrB5D,KAAO8C,EAAO,OAAO,EAGzC,OAAO,EAET,SAASiJ,EAAYD,EAAO/I,GAAoB,IAAdiJ,EAAa,uDAAH,EACtCzB,EAAOyB,EAGX,IAAK,IAAMvB,KAAgB1H,EAAM,CAC/B,IAAMD,EAAQC,EAAK0H,GACbwB,EAAS1H,EAAUkG,GAAc7G,MACvC2G,EAAOlG,KAAKoD,IAAI8C,EAAMuB,EAAMG,GAAQjM,KAAO8C,GAG7C,IADAyH,EAAOlG,KAAKiD,MAAMiD,KACN,EAAG,OAAO,EAGtB,IAAK,IAAME,KAAgB1H,EAAM,CAC/B,IAAMmJ,EAAY3H,EAAUkG,GAC5B,IAAIyB,EAAUvI,UAAd,CACA,IAAMb,EAAQC,EAAK0H,GACbwB,EAAS1H,EAAUkG,GAAc7G,MACvCkI,EAAMG,GAAN,2BACKH,EAAMG,IADX,IAEEjM,KAAM8L,EAAMG,GAAQjM,KAAO8C,EAAQyH,KAGvC,OAAOA,EAkJM4B,MA/If,WAAoD,IAAnCL,EAAkC,uDAA1BjK,IAAOlC,UAAWyM,EAAQ,uCAC3C5J,EAAWgH,EAAY4C,EAAOxI,OACpC,IAAKpB,EAAU,OAAOsJ,EACtB,IAAMlI,EAAQwI,EAAOxI,MACf5D,EAAO8L,EAAMlI,GAAO5D,KACpBmE,GAAU2H,EAAMlI,GAAOvD,oBAAsB+L,EAAOjI,OAEtDpB,EAAOP,EAASO,KAAK/C,EAAMmE,GAE/B,OAAQiI,EAAOf,MACb,KAAKR,EAEH,GAA8B,QAD9BiB,EAAK,YAAOA,IACFlI,GAAO3D,SAAmB,OAAO6L,EAC3C,IAAMxB,EAASyB,EAAYD,EAAO/I,EAAM,GACxC,OAAKuH,GAWLwB,EAAMlI,GAAN,2BACKkI,EAAMlI,IADX,IAEE3D,UAAU,IAAIY,MAAOC,UACrBZ,SAAU,IAGL4L,IAfyB,IAA1BA,EAAMlI,GAAO1D,WACf4L,EAAMlI,GAAN,2BACKkI,EAAMlI,IADX,IAEE1D,SAAU,KAGP4L,GAUX,KAAKhB,EACH,GAAIsB,EAAOX,WAAY,OAAOK,EAU9B,IATAA,EAAK,YAAOA,IAENlI,GAAN,2BACKkI,EAAMlI,IADX,IAEE3D,SAAUmM,EAAOb,KACjBrL,UACG4L,EAAMlI,GAAO1D,UAAY,IAAMkM,EAAOZ,mBAAqB,KAG5DM,EAAMlI,GAAO1D,UAAY,EAAG,CAC9B,IAAIqK,EAAO,EACL8B,EAAUhI,KAAKiD,MAAMwE,EAAMlI,GAAO1D,UAAY,EACpD,GAAIiE,EAAQ,CACV,GAAI3B,EAASqB,WACX0G,GAAQwB,EAAYD,EAAO/I,EAAMsJ,QAEjC,IAAK,IAAIlK,EAAI,EAAGA,EAAIkC,KAAKoD,IAAI,GAAI4E,IAE3BN,EAAYD,EADhB/I,EAAOP,EAASO,KAAK/C,EAAKmC,EAAGgC,GACA,GAFYhC,IAGvCoI,IAMNuB,EAAMlI,GAAO5D,MAAQuK,EAAO/H,EAASS,cAChC4I,EAAeC,EAAO/I,IAKzBgJ,EAAYD,EADZ/I,EAAOP,EAASO,KAAK/C,EAAMmE,GACF,GACzB2H,EAAMlI,GAAO1D,UAAY,IALzB4L,EAAMlI,GAAO3D,SAAW,KACxB6L,EAAMlI,GAAO1D,SAAW,QAO1B4L,EAAMlI,GAAO5D,MAAQwC,EAASS,cAC9B6I,EAAMlI,GAAO1D,SAAW,EACxB4L,EAAMlI,GAAO3D,SAAW,KAK1B,IAFA,IAAMqM,EAAiB9J,EAASc,eAAewI,GAEtC3J,EAAI,EAAGA,EAAIK,EAASY,mBAAmBtD,OAAQqC,IAAK,CAC3D,kBAA0BK,EAASY,mBAAmBjB,GAAtD,GAAOoK,EAAP,KAAeC,EAAf,KACMC,EAAaF,EAASD,EACtBI,EAAc,WAAK,EAAIrI,KAAKoD,IAAI,EAAGgF,GAAgBlC,GACnDoC,EACJpC,EAAOkC,EAAa,GAAKC,GAAe,IACpCrI,KAAKuI,MAAMrC,EAAOkC,KAChBpI,KAAKwI,SAAWH,GACpBC,GAAc,IAChBb,EAAMvH,EAAUiI,GAAS5I,OAAzB,2BACKkI,EAAMvH,EAAUiI,GAAS5I,QAD9B,IAEE5D,KAAM8L,EAAMvH,EAAUiI,GAAS5I,OAAO5D,KAAO2M,MAKrD,OAAOb,EACT,KAAKf,EAMH,OALAe,EAAK,YAAOA,IACNlI,GAAN,2BACKkI,EAAMlI,IADX,IAEEzD,UAAU,IAEL2L,EACT,KAAKd,EAMH,OALAc,EAAK,YAAOA,IACNlI,GAAN,2BACKkI,EAAMlI,IADX,IAEEvD,oBAAqByL,EAAMlI,GAAOvD,qBAE7ByL,EACT,KAAKb,EACH,OACGzI,EAASsB,YACVgI,EAAMlI,GAAOxD,SAAW,EAAI0L,EAAMvH,EAAU8E,WAAWzF,OAAO5D,QAGhE8L,EAAK,YAAOA,IACNlI,GAAN,2BACKkI,EAAMlI,IADX,IAEExD,QAAS0L,EAAMlI,GAAOxD,QAAU,KAJzB0L,EAOX,KAAKZ,EAMH,OALAY,EAAK,YAAOA,IACNlI,GAAN,2BACKkI,EAAMlI,IADX,IAEExD,QAAS,IAEJ0L,EACT,KAAKX,EAWH,OAVAW,EAAK,YAAOA,GACPtJ,EAASiB,iBACZqI,EAAMlI,GAAN,2BACKkI,EAAMlI,IADX,IAEE5D,KAAMwC,EAASgB,gBACfvD,SAAU,KACVC,SAAU,EACVC,UAAU,KAGP2L,EACT,QACE,OAAOA,IClOTgB,EAAY,CAAC,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC9DC,EAAY,CAAC,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACzDC,EAAY,CAAC,GAAI,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACpD,SAASC,EAASjJ,GAAqC,IAAlCkJ,EAAiC,uDAAvB,EAAGC,EAAoB,wDAC/DC,EAAmBF,EACnBG,EAAQ,GAERC,EAAOjJ,KAAKiJ,KAAKtJ,IACP,IAAVsJ,IAAaF,GAAoB,GAE3B,KADVpJ,EAAIK,KAAKkJ,IAAIvJ,KACEA,EAAC,SAAG,IAAMkJ,KACvBlJ,EAAC,SAAGA,GAAI,GACRqJ,GAAS,KACTD,GAAoB,GAGtB,IAAII,EAAMnJ,KAAKiD,MAAMjD,KAAKoJ,MAAMpJ,KAAKqD,IAAI,EAAGrD,KAAKkJ,IAAIvJ,MACjD0J,EAAcrJ,KAAKiD,MAAMkG,EAAI,GAC7BG,EAAcD,EAAc,GAAKZ,EAAUY,GAAeX,GAAWW,EAAY,GAAG,IAAMV,EAAU3I,KAAKiD,OAAOoG,EAAY,GAAG,KACnIN,GAAoBO,EAAW7N,OAC/B,IAAI8N,GAAc5J,EAAE,KAAD,IAAC,GAAiB,EAAZ0J,IAAgBG,QAAQxJ,KAAKqD,IAAI,EAAG0F,EAAiBI,EAAI,IAElF,OADKL,GAAgBnJ,EAAI,KAAQ8J,OAAOC,UAAU/J,KAAI4J,EAAa5J,GAC5DqJ,EAAQO,EAAaD,ECtBf,I,SCGTK,GAAQC,IAAOC,IAAV,2XDHI,s+PC+BAC,I,SAAAA,GAZf,YAA4D,IAAnCC,EAAkC,EAAlCA,KAAMjL,EAA4B,EAA5BA,SAAUkL,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QAC9C,OACE,cAACN,GAAD,CACEK,MAAK,aACH,cAAeD,EACfG,mBAAmB,8BAAD,OAAgCpL,EAASa,EAAzC,wCAA0Eb,EAASc,EAAnF,MACfoK,GAJP,SAMEC,KCtBAE,GAAmBP,IAAOC,IAAV,uRAahBO,GAAmBR,IAAOC,IAAV,sGAMhBQ,GAAmBT,IAAOU,KAAV,oDA8BPC,I,MAAAA,GAzBf,YAAiC,IAAT7L,EAAQ,EAARA,KACtB,OACE,cAACyL,GAAD,UAEIzL,EAAK8L,KAAI,WAAmCC,GAAW,IAAD,mBAA3CC,EAA2C,KAAzBC,EAAyB,KAC9CxM,EAAW+B,EAAUwK,GAE3B,OACE,eAACN,GAAD,WACE,cAAC,GAAD,CACEL,KAAK,4CACLjL,SAAUX,EAASW,SACnBkL,MAAO,CACLY,OAAQ,yCAGZ,cAACP,GAAD,UAAmBzB,EAAS+B,OARPF,S,iBC/B7BI,GAAkBC,YAAH,sJAUfC,GAAUnB,IAAOC,IAAV,6fAoBEgB,IA2CAG,I,YAAAA,GAvCf,YAA+C,IAAnB7M,EAAkB,EAAlBA,SAC1B,OAD4C,EAARlB,KAElC,mCACIkB,EAASkB,WAAalB,EAASkB,UAAU5D,OAAS,GAClD,eAACsP,GAAD,WACE,cAAC,KAAD,CACEE,KAAMC,KACNlB,MAAO,CACLlL,SAAU,WACVqM,MAAO,wBAEPC,KAAM,EACNC,OAAQ,EACRC,UAAW,uBAEXV,OAAQ,iCAERW,OAAQ,KAIVpN,EAASkB,UAAUmL,KAAI,SAAAgB,GACrB,IAAM3D,EAAY3H,EAAUsL,GAC5B,OACE,cAAC,GAAD,CAEEzB,KAAK,gBACLjL,SAAU+I,EAAU/I,SACpBkL,MAAO,CAACY,OAAQ,wCAHX/C,EAAUvJ,eC3D3BmN,GAAsB7B,IAAOC,IAAV,wVAgBnB6B,GAAgB9B,IAAOC,IAAV,kNAWb8B,GAAc/B,IAAOC,IAAV,0CAGX+B,GAAahC,IAAOC,IAAV,8NA8CDgC,I,MAAAA,gBACb,SAACpE,GAAD,MAAY,CACVxK,KAAMwK,EAAMnM,aAEd,GAJauQ,EAhCf,YAA6C,IAAnB1N,EAAkB,EAAlBA,SAAUlB,EAAQ,EAARA,KAC5BgL,EAAiB9J,EAAWA,EAASc,eAAehC,GAAQ,EAC5D6O,EAAc3N,EAASY,mBAAmByL,KAAI,SAAA1E,GAAC,MAAI,CAACA,EAAE,GAAGmC,EAAgBnC,EAAE,OAEjF,OAA+B,IAAvBgG,EAAYrQ,QAAmC,IAAnBwM,EAClC,eAACwD,GAAD,WACE,cAACC,GAAD,UAAgB9C,EAASX,KACzB,cAAC0D,GAAD,UACGG,EAAYtB,KAAI,YAAyB,IAAD,mBAAtBtC,EAAsB,KAAdnI,EAAc,KACjC5B,EAAW+B,EAAUH,GAC3B,OACE,eAAC6L,GAAD,WAGG3O,EAAKkB,EAASoB,OAAOzD,SAAW,cAAC,GAAD,CAC/BiO,KAAK,oBACLjL,SAAUX,EAASW,WAChB,yCACL,+BAAQoJ,EAAS,KACfU,EAASV,EAAQ,GAAG,GAAM6D,SAAS,EAAG,QACtC7D,EAAS,EACTU,EAAgB,IAAPV,EAAY,GAAG,GAAM6D,SAAS,EAAG,QAAU,IACpD,QAAYnD,EAASV,EAAQ,GAAG,OAV7B/J,EAASG,cAiBxB,gCC1EEuM,GAAkBC,YAAH,4FAQfkB,GAAoBpC,IAAOC,IAAV,2WAeRgB,IAoBAgB,I,eAAAA,gBACb,SAACpE,GAAD,MAAY,CACVxK,KAAMwK,KAFKoE,EAff,YAA+D,IAAlC1N,EAAiC,EAAjCA,SAAU8N,EAAuB,EAAvBA,cAAehP,EAAQ,EAARA,KAC9CiP,EAAW5F,EAAYnI,EAASG,KAAMrB,IAAS,EAC/C6C,GAA4B,IAAnBmM,GAAuBhP,EAAK3B,UAAU2Q,GAAetQ,MAAQ,EAE5E,OAAsB,IAAbuQ,EAEL,cAACF,GAAD,UACGlM,EACC8I,EAAS5I,KAAKqD,IAAI,EAAG,IAAK6I,IAAa,MACtCA,EAAS,KAAM1C,QAAQ,GAAK,MAGnC,gCC/BE2C,GAAkBrB,YAAH,uLAUfsB,GAAexC,IAAOC,IAAV,4uCAiDDsC,IAKXE,GAAezC,IAAOC,IAAV,iNAWZyC,GAAmB1C,IAAOU,KAAV,4NAahBiC,GAAmB3C,IAAOC,IAAV,wJAYtB,SAAS2C,GAAT,GAA4H,IAAD,EAA/FrO,EAA+F,EAA/FA,SAAUsM,EAAqF,EAArFA,MAAO1D,EAA8E,EAA9EA,WAAY0F,EAAkE,EAAlEA,WAAYC,EAAsD,EAAtDA,WAAYC,EAA0C,EAA1CA,gBAAiBC,EAAyB,EAAzBA,YAAaV,EAAY,EAAZA,SAC7G,EAA4BW,oBAAS,GAArC,mBAAOC,EAAP,KAAgBC,EAAhB,KAEMC,EAAc7O,EAAWA,EAASG,KAAK2O,QAAQ,cAAtB,SAAgD,GACzEhQ,EAAOiQ,aAAY,SAAAzF,GAAK,OAAIA,EAAMnM,UAAUmP,MAC5C/L,EAAOP,EAAWgP,OAAOC,QAAP,UAAejP,EAASO,KAAKzB,EAAKtB,aAAlC,QAA2C,IAAM,GACnEsQ,EAAgBrG,EAAc6E,GAE9B4C,EACNpQ,EAAKnB,WACW,eAAf2Q,IAAkD,IAAnBR,KAChB,YAAfQ,GAA6BxP,EAAKnB,UAAYqC,EAASsB,YAExD,OACE,eAAC2M,GAAD,CACEkB,QAAS,WAAO,IAAD,EACb,OAAQb,GACN,IAAK,aACHC,EAAWjC,GACX,MACF,IAAK,UACCmC,EAAc,GAAGD,EAAgBlC,GACrC,MACF,QACMtM,GAAmE,IAAvDgP,OAAOI,KAAP,UAAYpP,EAASO,KAAKzB,EAAKtB,aAA/B,QAAwC,IAAIF,QAC1DsL,EAAW0D,KAInB+C,aAAc,kBAAMT,GAAS,IAC7BU,aAAc,kBAAMV,GAAS,IAC7BzO,KAAM0O,EACNhD,MAAO,CACL0D,gBAAkBzQ,EAAKnB,WAAamB,EAAKjB,oBAAsC,eAAfyQ,GAA+BY,GAC3FpQ,EAAKjB,mBAAiC,UAAZ,eAC5B0D,EACFiO,QAASN,OAAkB3N,EAAY,GACvCkO,cAAeP,OAAkB3N,EAAW,QAvBhD,UA2BK2N,GAAmBlP,GACpB,eAACkO,GAAD,WACE,iCACE,cAAC,GAAD,CACEtC,KAAK,yDACLjL,SAAUX,EAASW,SACnBkL,MAAO,CAACY,OAAQ,iCAAkCiD,OAAQ,6BAE5D,cAACtB,GAAD,UAAmB3D,EAAS3L,EAAKtB,QACjC,cAAC2Q,GAAD,CAAkBtC,MAAO,CAAC8D,OAAQ5B,EAAW,KAAOjP,EAAKjB,mBAAvB,UACb,IAAhBiB,EAAKpB,SADwB,KAEhC,aAIFiR,GACA,qCACE,cAAC,GAAD,CAAcpO,KAAMA,IACpB,cAAC,GAAD,CAAqBP,SAAUA,IAC/B,cAAC,GAAD,CAAkBA,SAAUA,IAC5B,cAAC,GAAD,CAAoBA,SAAUA,EAAU8N,cAAeA,UAM5D9N,GAAYA,EAASsB,aAA+B,YAAfgN,GAA4BxP,EAAKnB,UAAamB,EAAKlB,SAAW,IACpG,cAAC,GAAD,CACEgO,KAAK,6BACLjL,SAAU,CAACa,EAAG,EAAGC,EAAG,GACpBqK,QAAwB,YAAfwC,EAAA,YAAgC,EAAExP,EAAKlB,QAAQ,GAAGyN,QAAQ,IAAOvM,EAAKlB,QAC/EiO,MAAO,CACLlL,SAAU,WACViP,IAAK,EAAG3C,KAAM,EACdE,UAAW,yBAA0C,YAAfmB,EAA2B,cAAgB,IACjF7B,OAAQ,0DAA+E,GAA5B5K,KAAKqD,IAAI,EAAGpG,EAAKlB,QAAQ,GAA5E,SAA4G,IAAjBkB,EAAKlB,QAAgB,gBAAkB,IAC1IiS,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBC,WAAY,SACZC,WAAY,yBACZC,WAAY,OACZT,cAAe,aAQZ/B,oBACb,iBAAO,KACP,CACE9E,aACA2F,WR9KsB,SAACnN,GAAD,MAAY,CACpCyH,KAAML,EACNpH,UQ6KEoN,gBR3K2B,SAACpN,GAAD,MAAY,CACzCyH,KAAMJ,EACNrH,WQoKasM,CAObyC,IAAMC,KAAK/B,KClNPgC,GAAc,uBACdC,GAAe,wBACfC,GAAY,4BACZC,GAAa,sBAgBbC,GAAwB,IA8Bf9G,I,SAAAA,GA5Bf,WAAmD,IAAlCL,EAAiC,uDAAzBjK,IAAOd,SAAUqL,EAAQ,uCAC1Cb,GAAO,IAAI1K,MAAOC,UAExB,OAAQsL,EAAOf,MACb,KAAKwH,GAKH,OAJA/G,EAAM9K,eAAgB,EACtB8K,EAAMzK,4BAA8B+K,EAAO8G,yBAC3CpH,EAAM1K,6BAA+BgL,EAAO8G,yBAC5CpH,EAAM3K,+BAAiCiL,EAAO8G,yBACvCpH,EACT,KAAKgH,GAGH,OAFAhH,EAAM9K,eAAgB,EACtB8K,EAAMzK,4BAA8B,EAC7ByK,EACT,KAAKiH,GAKH,OAJIxH,EAAOO,EAAM5K,qBAAuB+R,KACtCnH,EAAM7K,aAAc,EACpB6K,EAAM5K,oBAAsBqK,GAEvBO,EACT,KAAKkH,GAEH,OADAlH,EAAM7K,aAAc,EACb6K,EACT,QACE,OAAOA,IC/CE,SAASqH,GAAanP,GACnC,IAAIoP,EAAS/O,KAAKiD,MAAMtD,EAAE,KACtBqP,EAAUhP,KAAKiD,MAAOtD,EAAE,IAAQ,KAEpC,OAAQoP,EAAO,IAAIhD,SAAS,EAAG,KAAO,KAAOiD,EAAQ,IAAIjD,SAAS,EAAG,KCIvE,IAAMkD,GAAkBrF,IAAOC,IAAV,mSAWfqF,GAAoBtF,IAAOC,IAAV,qIAOjBsF,GAAmBvF,IAAOC,IAAV,4eAmGPuF,I,eAAAA,GA1Ef,WACE,MAAoCvC,mBAAS,MAA7C,mBAAOJ,EAAP,KAAmB4C,EAAnB,KACMnS,EAAWgQ,aAAY,SAAAzF,GAAK,OAAIA,KAChC6H,EAAepS,EAAS5B,UACxBiU,EAAcD,EAAa,IAAI3T,KAAO2T,EAAaE,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAEC,EAAE3T,UAAS,GAIjF4T,EAAiB,MAFV,IAAInT,MAAOC,UACLS,EAASR,SAASG,qBAG/B+S,EAAWC,cAEjB,OACE,qCACE,eAACX,GAAD,WACE,cAACC,GAAD,CACE7B,QAASwC,uBAAY,WAEjBT,EADiB,eAAf5C,EACY,aAEA,QAEf,CAACA,IACJzC,MAAsB,eAAfyC,EAA8B,CACnCiB,gBAAiB,iBACjBvC,MAAO,mBACL,GAXN,yBAeCmE,EAAa,IAAIxT,UAClB,qCACE,eAACqT,GAAD,CACE7B,QAAS,WAEL+B,EADiB,YAAf5C,EACY,UAEA,OAGlBzC,MAAsB,YAAfyC,EAA2B,CAChCiB,gBAAiB,iBACjBvC,MAAO,mBACL,GAXN,sBAaYoE,EAbZ,OAeA,cAACJ,GAAD,CACE7B,QAAS,kBAAMsC,EFrFI,CAC7B5I,KAAM0H,MEqFI1E,MAAO2F,EAAiB,EAAI,CAC1BhC,QAAS,GACTC,cAAe,QACb,GALN,SAOG+B,EAAiB,EAAIb,GAAaa,GAAkB,iBAI3D,cAACV,GAAD,UACK9J,EAAYqF,KAAI,SAACrM,EAAUsM,GAAX,OACf,cAAC,GAAD,CAEEtM,SAAUA,EACVsO,WAAYA,EACZhC,MAAOA,EACPmC,YAAa2C,EACbrD,SAAuB,OAAb/N,GAAoBmI,EAAYnI,EAASG,KAAMpB,IAAwBiJ,KAL/D,OAAbhI,EAAoBA,EAASG,KAA7B,gBAA6CmM,aCzG1DsF,GAAQnG,IAAOC,IAAV,6JASLmG,GAAkBpG,IAAOC,IAAV,2MAYf0C,GAAmB3C,IAAOU,KAAV,mDAGhB2F,GAA0BrG,IAAOC,IAAV,kHAOvBqG,GAAiBtG,IAAOU,KAAV,8kBAoGLuB,oBACb,iBAAO,KACP,CACEsE,WHtIsB,SAACtB,GAAD,MAA+B,CACvD7H,KAAMwH,GACNK,8BGiIahD,EA1Ef,YAAsD,IAAlCtF,EAAiC,EAAjCA,WAAYyD,EAAqB,EAArBA,MAAOmG,EAAc,EAAdA,WAC/BC,EAAalD,aAAY,SAAAzF,GAAK,OAAIA,EAAMnM,UAAU,IAAIK,QACtD0U,EAAYnD,aAAY,SAAAzF,GAAK,OAAIA,EAAMnM,UAAU,IAAIK,QACrD2U,EAAcF,GAAc,GAElC,OACE,qBAAKpG,MAAK,2BACLA,GADK,IAER,eAAgB,wBAFlB,SAIIzD,EAEE,qCACE,cAACwJ,GAAD,uBACA,eAACC,GAAD,WACE,cAAC,GAAD,UACGI,IAEH,cAAC,GAAD,CACErG,KAAK,oBACLjL,SAAU,CAACa,EAAG,EAAGC,EAAG,GACpBoK,MAAO,CACLY,OAAQ,oCAGZ,cAAC,KAAD,CACEK,KAAMsF,KACNvG,MAAO,CACL6D,OAAQ,OACR1C,MAAO,2BAGX,cAAC,GAAD,oBACMkF,EADN,aACoBD,EADpB,OAGA,cAAC,GAAD,CACErG,KAAK,oBACLjL,SAAU,CAACa,EAAG,EAAGC,EAAG,GACpBoK,MAAO,CACLY,OAAQ,uCAId,cAACqF,GAAD,UACE,cAACC,GAAD,CACElG,MAAQsG,OAAsD5Q,EAAxC,CAACiO,QAAS,GAAKC,cAAe,QACpDN,QAAS,kBAAMgD,GAAeE,OAAOC,QAAQ,oCAAsCN,EAAWC,IAFhG,SAIGE,EACC,YACA,qCACE,yCAAU,GAAGF,EAAb,YACA,cAAC,GAAD,CACErG,KAAK,8BACLjL,SAAU,CAACa,EAAG,EAAGC,EAAG,GACpBoK,MAAO,CACLY,OAAQ,iCACRiD,OAAQ,oBAUtB,cCzHKzR,OARf,YAA6B,IAAV4N,EAAS,EAATA,MACjB,OACE,qBAAKA,MAAQA,KCMF3N,OARf,YAA6B,IAAV2N,EAAS,EAATA,MACjB,OACE,qBAAKA,MAAQA,KCMF0G,I,GAAAA,GARf,YAA2B,IAAV1G,EAAS,EAATA,MACf,OACE,qBAAKA,MAAQA,EAAb,iCCGE2G,GAAY/G,IAAOC,IAAV,mgCAoFA+G,OA5Bf,WACE,IAAM1U,EAAegR,aAAY,SAAAzF,GAAK,OAAIA,EAAMxL,MAAMC,gBAChD2U,EAAc,CAClBlD,QAAS,GACTC,cAAe,QAGjB,OACE,eAAC+C,GAAD,WACE,cAAC,GAAD,CACEpK,WAAYrK,EAAaC,SACzB6N,MAAQ9N,EAAaC,SAAyB,GAAd0U,IAElC,cAAC,GAAD,CACEtK,WAAYrK,EAAaE,QACzB4N,MAAQ9N,EAAaE,QAAwB,GAAdyU,IAEjC,cAAC,GAAD,CACEtK,WAAYrK,EAAaG,QACzB2N,MAAQ9N,EAAaG,QAAwB,GAAdwU,IAEjC,cAAC,GAAD,CACE7G,MAAO6G,Q,kBCnFTC,GAAa,mBAoBJhJ,OAbf,WAAgD,IAA/BL,EAA8B,uDAAtBjK,IAAOvB,MAAO8L,EAAQ,uCAC7C,OAAQA,EAAOf,MACb,KAAK8J,GAKH,OAJArJ,EAAMvL,aAAN,2BACKuL,EAAMvL,cADX,kBAEG6L,EAAOgJ,UAAW,IAEdtJ,EACT,QACE,OAAOA,ICPEuJ,GANKC,aAAgB,CAClC3V,YACAW,SACAS,cCNIwU,GAAS,qBAmBApJ,I,kBAAAA,GAZf,SAAiBqJ,GACf,OAAO,WAA+B,IAArB1J,EAAoB,uDAAZ,GAAIM,EAAQ,uCACnC,OAAQA,EAAOf,MACb,KAAKkK,GAEH,OADAjU,EAAK8K,EAAO3J,MACL2J,EAAO3J,KAChB,QACE,OAAO+S,EAAS1J,EAAOM,MCVhBqJ,GAFDC,aAAYC,GAAYN,KCShCO,GAAgB3H,IAAOC,IAAV,uKASb2H,GAAW5H,IAAOC,IAAV,qmBAwBR4H,GAAW7H,IAAOC,IAAV,iPAaR6H,GAAiB5G,YAAH,+NAcd6G,GAAW/H,IAAOC,IAAV,y6BAoBC6H,IAgBTE,GAAiBhI,IAAOU,KAAV,qFAoDduH,GAAY,CAChB,CACEC,MAAO,SACP7G,KAAM8G,KACNC,KAAM,WACJ,IAAIC,EAAWzB,OAAO0B,KAAK5U,KAAKC,UAAU6T,GAAMe,aAC5CC,GAAe,EAEnB,GAAI5B,OAAO6B,gBACT,IACEC,UAAUC,UAAUC,UAAUP,GAC9BG,GAAe,EACf,MAAOtM,IAGX,IAAKsM,EAAc,CAEjB,IAAIK,EAAWC,SAASC,cAAc,YACtCF,EAASG,MAAQX,EACjBQ,EAASzI,MAAMlL,SAAW,QAC1B4T,SAASG,KAAKC,YAAYL,GAC1BA,EAASM,QACTN,EAASO,SACT,IACEN,SAASO,YAAY,QACrBb,GAAe,EACf,MAAOtM,IACT4M,SAASG,KAAKK,YAAYT,GAGxBL,EACF5B,OAAO2C,MAAM,0BAEb3C,OAAO4C,OAAO,kDAAmDnB,KAIvE,CACEH,MAAO,SACP7G,KAAMoI,KACNrB,KAAM,WACJ,IAAMsB,EAAoB9C,OAAO4C,OAAO,eAClCG,EAASjW,KAAKI,MAAM8S,OAAOgD,KAAKF,IACtClC,GAAMxB,SFxMyB,CACnC5I,KAAMkK,GACN9S,KEsM8BmV,MAG9B,CACEzB,MAAO,UACP7G,KAAMwI,KACNzB,KAAM,kBAAMmB,MAAM,UAEpB,CACErB,MAAO,UACP7G,KAAMyI,KACN1B,KAAM,kBAAMxB,OAAOmD,KAAK,6BAA8B,aA+D3CC,I,MAAAA,GA3Df,WACE,MAAoC/G,oBAAS,GAA7C,mBAAOgH,EAAP,KAAmBC,EAAnB,KAGA,OACE,mCACE,eAACvC,GAAD,WACGsC,GACC,cAACpC,GAAD,UACGI,GAAUrH,KAAI,SAACuJ,EAAMC,GAAP,OACb,eAACrC,GAAD,CAEE,wBAAuBqC,EACvB1G,QAAS,kBAAMyG,EAAK/B,QACpBhI,MAAO,CACLiK,kBAAmB,KAAOD,EAAM,GAAK,MALzC,UAQE,cAAC,KAAD,CACE/I,KAAM8I,EAAK9I,KACXjB,MAAO,CACLkK,MAAO,oBACPpG,OAAQ,uBAGZ,cAAC8D,GAAD,UAAiBmC,EAAKjC,UAdjBiC,EAAKjC,YAmBlB,cAACN,GAAD,CACElE,QAAS,kBAAMwG,GAAeD,IAC9B7J,MAAO6J,EAAa,CAAEnG,gBAAiB,kBAAqB,GAF9D,SAIE,cAAC,KAAD,CACEzC,KAAMkJ,KACNnK,MAAO,CACLkK,MAAO,6BACPpG,OAAQ,6BAER3C,MAAO,oBACPG,UAAW,wBC9PnB8I,GAAcC,YAAH,isDAsEXC,GAAgB1K,IAAOC,IAAV,mWA0CJ0K,OAzBf,WACE,OACE,sBAAKC,UAAU,MAAf,UACE,cAACJ,GAAD,IACA,eAACE,GAAD,YAEI,EAWF,cAAC,GAAD,IACA,cAAC,GAAD,OAEF,cAAC,GAAD,QCrGSG,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCgBVQ,IAAW,IAAI1Y,MAAOC,UAkGX0Y,OAhGf,WAIE,IAAMjY,EAAWkU,GAAMe,WACjBjL,GAAO,IAAI1K,MAAOC,UAEpByK,EAAOgO,GAAW,MACpBA,GAAWhO,EACXjK,EAAKC,IAIP,IAAK,IAAIY,EAAI,EAAGA,EAAIqH,EAAY1J,OAAQqC,IAAK,CAAC,IAAD,EACrCK,EAAWgH,EAAYrH,GAC7B,GAAiB,OAAbK,EAAJ,CACA,IAAMoB,EAAQzB,EACRb,EAAOC,EAAS5B,UAAUiE,GAC1BO,EAAS,cAAK5C,EAAS5B,UAAUsK,EAAcrG,WAAtC,aAAK,EAA0C5D,MAW9D,IAPGsB,EAAKnB,WACLmB,EAAKtB,MAAQ,GAAK4K,EAAWpI,EAASG,KAAMpB,EAAS5B,aAEtD8V,GAAMxB,SAASvI,EAAe9H,IAI5BpB,EAASkB,WAAapC,EAAKtB,MAAQ,EACrC,IAAK,IAAIyZ,EAAI,EAAGA,EAAIjX,EAASkB,UAAU5D,OAAQ2Z,IAAK,CAClD,IAAMvN,EAAY3H,EAAU/B,EAASkB,UAAU+V,IACzCxN,EAASC,EAAUtI,MAEiB,OAAxCrC,EAAS5B,UAAUsM,GAAQhM,UACU,IAArCqK,EAAO4B,EAAUvJ,KAAMpB,IACvBA,EAAS5B,UAAUsM,GAAQ5L,oBAG7BoV,GAAMxB,SAAS7I,EAAWa,GAAQ,IAKtC,IAAMhM,EAAWqB,EAAKrB,SACtB,GAAiB,OAAbA,QAA4C8D,IAAvBvB,EAASQ,UAAyB,CACzD,IACIwI,GACAD,EAAOtL,GAFK0K,EAAYnI,EAASG,KAAMpB,GAES,EACpDkU,GAAMxB,SACJ3I,EAAY,CACV1H,MAAOzB,EACPgC,SACAoH,OACAC,oBACAC,WAAYlK,EAASR,SAASC,mBAgBtC,IATqBO,EAASjB,MAAMC,aAEpBC,UACde,EAAS5B,UAAU4E,EAAUyE,aAAapF,OAAO5D,MAAQ,GAEzDyV,GAAMxB,SPxF8B,CACtC5I,KAAM8J,GACNC,SOsF2B,aAKzB7T,EAASR,SAASC,eAClBO,EAASR,SAASM,6BAA+B,EACjD,CACAoU,GAAMxB,SACJ3I,EAAY,CACV1H,MAAOW,EAAU2E,YAAYtF,MAC7B4H,kBAAmBjK,EAASR,SAASM,4BACrC8C,QAAQ,KAGZ,IAAK,IAAIhC,EAAI,EAAGA,EAAIqH,EAAY1J,OAAQqC,IACtCsT,GAAMxB,SAASrI,EAAkBzJ,IAEnCsT,GAAMxB,SfnGwB,CAChC5I,KAAMyH,KeqGN,GAAIvR,EAASR,SAASE,YAAa,CACjC,IAAK,IAAIkB,EAAI,EAAGA,EAAIqH,EAAY1J,OAAQqC,IACtCsT,GAAMxB,SAAStI,EAAgBxJ,IAEjCsT,GAAMxB,SfpGsB,CAC9B5I,KAAM2H,OgBTR0G,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUnE,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJsB,SAAS8C,eAAe,SAG1BC,aAAY,kBAAMC,OAAQ,IAAO,IAKjCjB,O","file":"static/js/main.3d6a6764.chunk.js","sourcesContent":["export const saveKey = \"resource_grid\";\r\nexport const recoverSaveKeys = {\r\n  past1H: saveKey + \"_1h\",\r\n  past6H: saveKey + \"_6h\",\r\n  past1D: saveKey + \"_1d\",\r\n  lastPrestige: saveKey + \"_lastPrestige\",\r\n  lastRecover: saveKey + \"_lastRecover\",\r\n};\r\n\r\nexport const DefaultSave = {\r\n  resources: Array.from({ length: 81 }, (_) => ({\r\n    have: 0,\r\n    lastTime: null,\r\n    progress: 0,\r\n    unlocked: false,\r\n    empower: 0,\r\n    automationDisabled: false,\r\n  })),\r\n  aside: {\r\n    unlockStatus: {\r\n      Prestige: false,\r\n      NewGame: false,\r\n      Booster: false,\r\n    },\r\n  },\r\n  stats: {\r\n    startTime: new Date().getTime(),\r\n  },\r\n  prestige: {\r\n    doingPrestige: false,\r\n    doingRespec: false,\r\n    empowererRespecTime: 0,\r\n    totalPrestigeResourceQuantity: 0,\r\n    lastPrestigeResourceQuantity: 0,\r\n    tmpPrestigeResourceQuantity: 0,\r\n  },\r\n};\r\nDefaultSave.resources[0].have = 1;\r\n\r\nexport function save(savefile, key = saveKey) {\r\n  localStorage.setItem(key, JSON.stringify(savefile));\r\n}\r\n\r\n/** @returns {DefaultSave} */\r\nexport function load(key = saveKey) {\r\n  return mergeObject(JSON.parse(localStorage.getItem(key)) ?? {}, DefaultSave);\r\n}\r\n\r\nfunction mergeObject(target, source) {\r\n  target = target ?? {};\r\n  for (const i in source) {\r\n    if (Array.isArray(source[i])) {\r\n      target[i] = target[i] ?? [];\r\n      mergeArray(target[i], source[i]);\r\n    } else if (source[i] === null) {\r\n      target[i] = target[i] ?? source[i];\r\n    } else if (typeof source[i] === \"object\") {\r\n      target[i] = mergeObject(target[i], source[i]);\r\n    } else {\r\n      target[i] = source[i].constructor(target[i] ?? source[i]);\r\n    }\r\n  }\r\n  return target;\r\n}\r\nfunction mergeArray(target, source) {\r\n  for (let i = 0, l = source.length; i < l; i++) {\r\n    if (Array.isArray(source[i])) {\r\n      mergeArray(target[i], source[i]);\r\n    } else if (source[i] === null) {\r\n      target[i] = target[i] ?? source[i];\r\n    } else if (typeof source[i] === \"object\") {\r\n      target[i] = mergeObject(target[i], source[i]);\r\n    } else {\r\n      target[i] = source[i].constructor(target[i] ?? source[i]);\r\n    }\r\n  }\r\n  return target;\r\n}\r\n","export default class Resource {\r\n  /**\r\n   * @typedef ResourceConstructor\r\n   * @property {string} name - Name of the resource\r\n   * @property {string} description - Description of the resource\r\n   * @property {Object.<stringe, number>} unlockAt - Check resource is unlocked\r\n   * @property {Object.<string, number> | function(number): RescourceEnum.<string, number> } [cost] - {[id]: quantity} | Cost of the resource\r\n   * @property {number} [craftTime] - Crafting/Generating time (in second)\r\n   * @property {number} [craftMultiply] - Craft multiply (default: 1)\r\n   * @property {[number, number]} position - Position on Rescource Grid\r\n   * @property {[number, string][]} [randomGrantOnCraft] - [chance, id] | Randomely grants resource on craft\r\n   * @property {function(object): number} [effectMultiply] - Multiply random chance and Automate speed\r\n   * @property {boolean} [noCostIfAutomate] - yes\r\n   * @property {number} [defaultQuantity] - default\r\n   * @property {boolean} [keepOnPrestige] - Keep this resource on prestige\r\n   * @property {string[]} [automates] - Automatically craft/generate resource\r\n   * @property {boolean} [noConsume] - If true, won't consume this resource on buy\r\n   * @property {boolean} [canBulkBuy] - Override canBulkBuy\r\n   * @property {boolean} [canEmpower] - Override canEmpower\r\n   */\r\n  /** @param {ResourceConstructor} data */\r\n  constructor(data) {\r\n    this.name = data.name;\r\n    this.description = data.description;\r\n    this.unlockAt = data.unlockAt;\r\n    this._cost = data.cost;\r\n    this.craftTime = data.craftTime;\r\n    this.craftMultiply = data.craftMultiply || 1;\r\n    this._position = data.position;\r\n    this.randomGrantOnCraft = data.randomGrantOnCraft ?? [];\r\n    this._effectMultiply = data.effectMultiply;\r\n    this.noCostIfAutomate = data.noCostIfAutomate || false;\r\n    this.defaultQuantity = data.defaultQuantity || 0;\r\n    this.keepOnPrestige = data.keepOnPrestige || false;\r\n    this.automates = data.automates;\r\n    this.noConsume = data.noConsume || false;\r\n    \r\n    this.order = 9*this._position[0] + this._position[1];\r\n    this.canBulkBuy = data.canBulkBuy ?? typeof this._cost !== 'function';\r\n    this.canEmpower = data.canEmpower ?? (this.craftTime !== undefined || this.automates !== undefined);\r\n  }\r\n\r\n  get position() {\r\n    return {\r\n      x: this._position[1],\r\n      y: this._position[0]\r\n    }\r\n  }\r\n\r\n  effectMultiply(savefile) {\r\n    let effMult = 1;\r\n    if (typeof this._effectMultiply === 'function') {\r\n      effMult *= this._effectMultiply(savefile);\r\n    }\r\n\r\n    effMult *= 1 + savefile[this.order].empower/2;\r\n\r\n    return effMult;\r\n  }\r\n\r\n  cost(have, isAuto) {\r\n    let cost;\r\n    if (typeof this._cost === 'undefined' || (isAuto && this.noCostIfAutomate)) {\r\n      return null;\r\n    } else if (typeof this._cost === 'function') {\r\n      cost = this._cost(have);\r\n    } else {\r\n      cost = this._cost;\r\n    }\r\n\r\n    for (const resource in cost) {\r\n      cost[resource] = Math.ceil(cost[resource]);\r\n      if (cost[resource] <= 0) delete cost[resource];\r\n    }\r\n    return cost;\r\n  }\r\n}\r\n\r\n","// eslint-disable-next-line\r\nimport { DefaultSave } from \"../saveload\";\r\nimport Resource from \"../class/Resource.js\"; \r\n\r\nexport const Resources = {\r\n  TreeSeed: new Resource({\r\n    name: \"TreeSeed\",\r\n    description: \"Generate tree\",\r\n    automates: [\"Tree\"],\r\n    unlockAt: {},\r\n    defaultQuantity: 1,\r\n    position: [0, 0]\r\n  }),\r\n  Tree: new Resource({\r\n    name: \"Tree\",\r\n    craftTime: 20,\r\n    unlockAt: {},\r\n    position: [0, 1]\r\n  }),\r\n  Log: new Resource({\r\n    name: \"Log\",\r\n    cost: {\r\n      \"Tree\": 1\r\n    },\r\n    craftTime: 20,\r\n    craftMultiply: 2,\r\n    randomGrantOnCraft: [\r\n      [0.0008, \"TreeSeed\", 0],\r\n      [0.05, \"Fruit\"]\r\n    ],\r\n    unlockAt: {\r\n      \"Tree\": 1,\r\n    },\r\n    position: [0, 2]\r\n  }),\r\n  Plank: new Resource({\r\n    name: \"Plank\",\r\n    cost: {\r\n      \"Log\": 1\r\n    },\r\n    craftTime: 15,\r\n    craftMultiply: 3,\r\n    unlockAt: {\r\n      \"Log\": 1\r\n    },\r\n    position: [0, 3]\r\n  }),\r\n  Charcoal: new Resource({\r\n    name: \"Charcoal\",\r\n    cost: {\r\n      \"Plank\": 3\r\n    },\r\n    craftTime: 3,\r\n    craftMultiply: 4,\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    noCostIfAutomate: true,\r\n    position: [0, 4]\r\n  }),\r\n  Vine: new Resource({\r\n    name: \"Vine\",\r\n    unlockAt: {\r\n      \"Vine\": 1\r\n    },\r\n    position: [0, 5]\r\n  }),\r\n  Mushroom: new Resource({\r\n    name: \"Mushroom\",\r\n    unlockAt: {\r\n      \"Mushroom\": 1\r\n    },\r\n    position: [0, 6]\r\n  }),\r\n  Fruit: new Resource({\r\n    name: \"Fruit\",\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Fruit\": 1,\r\n    },\r\n    position: [0, 7]\r\n  }),\r\n  Explorer: new Resource({\r\n    name: \"Explorer\",\r\n    cost: (have) => ({\r\n      \"Loot\": 10*(have+1)**1.2,\r\n      \"TreasureMap\": 15*(have+1)**1.1,\r\n      \"Citizen\": 150*(have/2+1)**1.1,\r\n      \"Animal\": 15*(have+1)**1.1,\r\n      \"Fruit\": 1000*(have+1)**1.3,\r\n      \"Energy\": 10**(6.2+Math.sqrt(have/2))\r\n    }),\r\n    automates: [\"Trap\", \"Animal\", \"TreasureMap\", \"Loot\"],\r\n    craftTime: 300,\r\n    unlockAt: {\r\n      \"Loot\": 1,\r\n    },\r\n    position: [0, 8]\r\n  }),\r\n\r\n  Orchard: new Resource({\r\n    name: \"Orchard\",\r\n    cost: (have) => ({\r\n      \"Citizen\": 3+(have*2)**1.2,\r\n      \"Fruit\": 1,\r\n      \"Sand\": 1000*(have+1),\r\n      \"Water\": 35*(have+1)**1.1\r\n    }),\r\n    automates: [\"Fruit\"],\r\n    craftTime: 150,\r\n    unlockAt: {\r\n      \"Citizen\": 1\r\n    },\r\n    position: [1, 0]\r\n  }),\r\n  Trap: new Resource({\r\n    name: \"Trap\",\r\n    cost: {\r\n      \"Iron\": 150,\r\n      \"Energy\": 50,\r\n      \"Glass\": 30,\r\n      \"Fruit\": 1,\r\n    },\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Orchard\": 1\r\n    },\r\n    position: [1, 1]\r\n  }),\r\n  Animal: new Resource({\r\n    name: \"Animal\",\r\n    cost: {\r\n      \"Trap\": 1,\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.5, \"Animal\"]\r\n    ],\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Trap\": 1\r\n    },\r\n    position: [1, 2]\r\n  }),\r\n  TreasureMap: new Resource({\r\n    name: \"TreasureMap\",\r\n    cost: (have) => ({\r\n      \"ShinyStone\": 250-225*(1-1/(have**0.6/100+1)),\r\n      \"Plank\": 500-450*(1-1/(have**0.6/100+1)),\r\n      \"Water\": 50-45*(1-1/(have**0.6/100+1))\r\n    }),\r\n    randomGrantOnCraft: [\r\n      [0.75, \"TreasureMap\"]\r\n    ],\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Animal\": 1\r\n    },\r\n    position: [1, 3]\r\n  }),\r\n  Loot: new Resource({\r\n    name: \"Loot\",\r\n    cost: {\r\n      \"Citizen\": 1,\r\n      \"Animal\": 1,\r\n      \"TreasureMap\": 1,\r\n      \"Energy\": 200,\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.5, \"TreeSeed\"],\r\n      [0.7, \"Vine\"],\r\n      [0.35, \"Mushroom\"],\r\n      [0.08, \"UpgradePotion\"]\r\n    ],\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"TreasureMap\": 1,\r\n    },\r\n    position: [1, 4]\r\n  }),\r\n  Wall: new Resource({\r\n    name: \"Wall\",\r\n    cost: {\r\n      \"Brick\": 3,\r\n    },\r\n    craftTime: 15,\r\n    unlockAt: {\r\n      \"Brick\": 1,\r\n    },\r\n    position: [1, 5]\r\n  }),\r\n  House: new Resource({\r\n    name: \"House\",\r\n    cost: {\r\n      \"Wall\": 4,\r\n      \"Glass\": 2,\r\n    },\r\n    craftTime: 50,\r\n    unlockAt: {\r\n      \"Wall\": 1,\r\n    },\r\n    position: [1, 6]\r\n  }),\r\n  Citizen: new Resource({\r\n    name: \"Citizen\",\r\n    cost: {\r\n      \"House\": 1,\r\n      \"Fruit\": 5,\r\n    },\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"House\": 1,\r\n    },\r\n    position: [1, 7]\r\n  }),\r\n  CityBuilder: new Resource({\r\n    name: \"CityBuilder\",\r\n    cost: (have) => ({\r\n      \"Citizen\": 3*(have+1)**2,\r\n      \"Energy\": 100*(have+1)**1.6,\r\n      \"Iron\": 300*(have+1)**1.2,\r\n      \"Gold\": 500*(have+1)**1.2\r\n    }),\r\n    craftTime: 200,\r\n    automates: [\"Brick\", \"Wall\", \"House\", \"Glass\", \"Citizen\"],\r\n    unlockAt: {\r\n      \"Energy\": 1,\r\n    },\r\n    position: [1, 8]\r\n  }),\r\n\r\n  Stone: new Resource({\r\n    name: \"Stone\",\r\n    craftTime: 20,\r\n    randomGrantOnCraft: [\r\n      [0.07, \"Sand\"],\r\n      [0.07, \"CopperOre\"],\r\n      [0.03, \"IronOre\"],\r\n      [0.015, \"GoldOre\"],\r\n      [0.001, \"EmeraldStone\"],\r\n    ],\r\n    description: \"Chance to grant some ore on craft.\\nChance is based on Pickaxe\",\r\n    effectMultiply: (savefile) => savefile[Resources.Pickaxe.order].have**1.3,\r\n    unlockAt: {\r\n      \"Pickaxe\": 1,\r\n    },\r\n    position: [2, 0]\r\n  }),\r\n  CopperOre: new Resource({\r\n    name: \"CopperOre\",\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    position: [2, 1]\r\n  }),\r\n  IronOre: new Resource({\r\n    name: \"IronOre\",\r\n    unlockAt: {\r\n      \"IronOre\": 1,\r\n    },\r\n    position: [2, 2]\r\n  }),\r\n  GoldOre: new Resource({\r\n    name: \"GoldOre\",\r\n    unlockAt: {\r\n      \"GoldOre\": 1,\r\n    },\r\n    position: [2, 3]\r\n  }),\r\n  ShinyStone: new Resource({\r\n    name: \"ShinyStone\",\r\n    craftTime: 45,\r\n    randomGrantOnCraft: [\r\n      [0.03, \"EmeraldStone\"],\r\n      [0.015, \"AmethystStone\"],\r\n      [0.007, \"RubyStone\"],\r\n      [0.003, \"SapphireStone\"],\r\n      [0.000_000_001, \"Core\"]\r\n    ],\r\n    description: \"Chance to grant some gem on craft.\\nChance is based on Gemstone Pickaxe\",\r\n    effectMultiply: (savefile) => {\r\n      let mult = 1;\r\n      mult *= savefile[Resources.GemstonePickaxe.order].have;\r\n      mult *= 1+savefile[Resources.GemBoost.order].have/3;\r\n      return mult;\r\n    },\r\n    unlockAt: {\r\n      \"GemstonePickaxe\": 1,\r\n    },\r\n    position: [2, 4]\r\n  }),\r\n  EmeraldStone: new Resource({\r\n    name: \"EmeraldStone\",\r\n    unlockAt: {\r\n      \"EmeraldStone\": 1,\r\n    },\r\n    position: [2, 5]\r\n  }),\r\n  AmethystStone: new Resource({\r\n    name: \"AmethystStone\",\r\n    unlockAt: {\r\n      \"AmethystStone\": 1,\r\n    },\r\n    position: [2, 6]\r\n  }),\r\n  RubyStone: new Resource({\r\n    name: \"RubyStone\",\r\n    unlockAt: {\r\n      \"RubyStone\": 1,\r\n    },\r\n    position: [2, 7]\r\n  }),\r\n  SapphireStone: new Resource({\r\n    name: \"SapphireStone\",\r\n    unlockAt: {\r\n      \"SapphireStone\": 1,\r\n    },\r\n    position: [2, 8]\r\n  }),\r\n\r\n  Brick: new Resource({\r\n    name: \"Brick\",\r\n    cost: {\r\n      \"Stone\": 5,\r\n      \"Charcoal\": 1,\r\n    },\r\n    craftTime: 3,\r\n    unlockAt: {\r\n      \"Stone\": 1,\r\n      \"Charcoal\": 1,\r\n    },\r\n    position: [3, 0],\r\n  }),\r\n  Copper: new Resource({\r\n    name: \"Copper\",\r\n    cost: {\r\n      \"CopperOre\": 1,\r\n      \"Charcoal\": 1\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"CopperOre\": 1,\r\n    },\r\n    position: [3, 1]\r\n  }),\r\n  Iron: new Resource({\r\n    name: \"Iron\",\r\n    cost: {\r\n      \"IronOre\": 1,\r\n      \"Charcoal\": 2\r\n    },\r\n    craftTime: 15,\r\n    unlockAt: {\r\n      \"IronOre\": 1,\r\n    },\r\n    position: [3, 2]\r\n  }),\r\n  Gold: new Resource({\r\n    name: \"Gold\",\r\n    cost: {\r\n      \"GoldOre\": 1,\r\n      \"Charcoal\": 1,\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"GoldOre\": 1,\r\n    },\r\n    position: [3, 3]\r\n  }),\r\n  Core: new Resource({\r\n    name: \"Core\",\r\n    unlockAt: {\r\n      \"Core\": 1,\r\n    },\r\n    position: [3, 4]\r\n  }),\r\n  Emerald: new Resource({\r\n    name: \"Emerald\",\r\n    cost: {\r\n      \"EmeraldStone\": 10,\r\n      \"Lava\": 1\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.2, \"Steam\"]\r\n    ],\r\n    unlockAt: {\r\n      \"EmeraldStone\": 1,\r\n    },\r\n    craftTime: 30,\r\n    position: [3, 5]\r\n  }),\r\n  Amethyst: new Resource({\r\n    name: \"Amethyst\",\r\n    cost: {\r\n      \"AmethystStone\": 10,\r\n      \"Lava\": 2\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.4, \"Steam\"]\r\n    ],\r\n    craftTime: 40,\r\n    unlockAt: {\r\n      \"AmethystStone\": 1,\r\n    },\r\n    position: [3, 6]\r\n  }),\r\n  Ruby: new Resource({\r\n    name: \"Ruby\",\r\n    cost: {\r\n      \"RubyStone\": 10,\r\n      \"Lava\": 3\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.6, \"Steam\"]\r\n    ],\r\n    craftTime: 50,\r\n    unlockAt: {\r\n      \"RubyStone\": 1,\r\n    },\r\n    position: [3, 7]\r\n  }),\r\n  Sapphire: new Resource({\r\n    name: \"Sapphire\",\r\n    cost: {\r\n      \"SapphireStone\": 10,\r\n      \"Lava\": 4\r\n    },\r\n    randomGrantOnCraft: [\r\n      [0.8, \"Steam\"]\r\n    ],\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"SapphireStone\": 1,\r\n    },\r\n    position: [3, 8]\r\n  }),\r\n\r\n  Energy: new Resource({\r\n    name: \"Energy\",\r\n    craftTime: 50,\r\n    randomGrantOnCraft: [\r\n      [0.01, \"Replicanti\"]\r\n    ],\r\n    unlockAt: {\r\n      \"Citizen\": 1\r\n    },\r\n    position: [4, 0]\r\n  }),\r\n  PickaxeUpgrade: new Resource({\r\n    name: \"PickaxeUpgrade\",\r\n    cost: (have) => ({\r\n      \"Energy\": 7*1.2**(have+1),\r\n      \"Emerald\": 3*(have-2),\r\n    }),\r\n    craftTime: 30,\r\n    unlockAt: {\r\n      \"Energy\": 1,\r\n      \"Pickaxe\": 1,\r\n    },\r\n    canEmpower: false,\r\n    position: [4, 1]\r\n  }),\r\n  GemBoost: new Resource({\r\n    name: \"GemBoost\",\r\n    cost: (have) => ({\r\n      \"Energy\": (100+have*10)*1.5**(have+1),\r\n      \"Amethyst\": 3*(have+1)**1.1\r\n    }),\r\n    craftTime: 45,\r\n    unlockAt: {\r\n      \"Energy\": 1,\r\n      \"ShinyStone\": 1,\r\n    },\r\n    canEmpower: false,\r\n    position: [4, 2]\r\n  }),\r\n  MetalworkUpgrade: new Resource({\r\n    name: \"MetalworkUpgrade\",\r\n    cost: (have) => ({\r\n      \"Energy\": 3000*2**(have**0.92+1),\r\n      \"UpgradePotion\": 1+(have**1.4)/2,\r\n      \"Iron\": 300*(have/3+1)**1.2\r\n    }),\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"UpgradePotion\": 1\r\n    },\r\n    canEmpower: false,\r\n    position: [4, 3]\r\n  }),\r\n  LiquidUpgrade: new Resource({\r\n    name: \"LiquidUpgrade\",\r\n    cost: (have) => ({\r\n      \"Energy\": 10**(6+have**0.55+have/10),\r\n      \"UpgradePotion\": 15*(have+1),\r\n      \"Ruby\": 15*(have+1),\r\n      \"Water\": 1000*(have+1)**1.2,\r\n      \"Lava\": 250*(have+1),\r\n    }),\r\n    craftTime: 75,\r\n    unlockAt: {\r\n      \"MetalworkUpgrade\": 1\r\n    },\r\n    canEmpower: false,\r\n    position: [4, 4]\r\n  }),\r\n  ReplicantiBoostII: new Resource({\r\n    name: \"ReplicantiBoostII\",\r\n    cost: (have) => ({\r\n      \"Energy\": 10**(12+have*2),\r\n      \"Replicanti\": 10**(33+have*6),\r\n      \"UpgradePotionII\": 1+Math.floor(have**1.2),\r\n      \"Sapphire\": 1000*((have+1)**1.3),\r\n    }),\r\n    craftTime: 90,\r\n    unlockAt: {\r\n      \"UpgradePotionII\": 1,\r\n    },\r\n    canEmpower: false,\r\n    position: [4, 5]\r\n  }),\r\n  Generator: new Resource({\r\n    name: \"Generator\",\r\n    cost: (have) => ({\r\n      \"Iron\": 30*(have+1)**0.6,\r\n      \"Lava\": 1+have,\r\n      \"Steam\": 3*have**0.6,\r\n      \"Citizen\": 1+have**0.6,\r\n    }),\r\n    craftTime: 100,\r\n    effectMultiply: (savefile) => 4**savefile[Resources.GeneratorUpgrade.order].have,\r\n    automates: [\"Energy\"],\r\n    unlockAt: {\r\n      \"Citizen\": 1\r\n    },\r\n    position: [4, 7]\r\n  }),\r\n  GeneratorUpgrade: new Resource({\r\n    name: \"GeneratorUpgrade\",\r\n    cost: (have) => ({\r\n      \"Steam\": Math.min(200_000, 2**(5.2+have**0.75)) + Math.max(0, have-30)*5_000,\r\n      \"Replicanti\": 100**(have+2+Math.max(0, have-10)**0.7+Math.max(0, have-25)),\r\n    }),\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"ReplicantiBoost\": 1\r\n    },\r\n    canEmpower: false,\r\n    position: [4, 8]\r\n  }),\r\n\r\n  Water: new Resource({\r\n    name: \"Water\",\r\n    craftTime: 100,\r\n    unlockAt: {\r\n      \"Copper\": 1,\r\n    },\r\n    position: [5, 0]\r\n  }),\r\n  Lava: new Resource({\r\n    name: \"Lava\",\r\n    cost: (have) => ({\r\n      \"Stone\": 100-96*(1-1/(have/14+1)),\r\n      \"Charcoal\": 50-48*(1-1/(have/7+1))\r\n    }),\r\n    unlockAt: {\r\n      \"Stone\": 1,\r\n      \"Charcoal\": 1,\r\n    },\r\n    craftTime: 150,\r\n    canBulkBuy: true,\r\n    position: [5, 1]\r\n  }),\r\n  Steam: new Resource({\r\n    name: \"Steam\",\r\n    cost: {\r\n      \"Water\": 2,\r\n      \"Lava\": 1\r\n    },\r\n    craftTime: 10,\r\n    craftMultiply: 3,\r\n    unlockAt: {\r\n      \"Water\": 1,\r\n      \"Lava\": 1,\r\n    },\r\n    position: [5, 2]\r\n  }),\r\n  SteamProducer: new Resource({\r\n    name: \"SteamProducer\",\r\n    cost: (have) => ({\r\n      \"Copper\": 10_000*(have+1)**1.3,\r\n      \"Water\": 4000*(have+1)**1.1,\r\n      \"Lava\": 2000*(have+1)**1.1,\r\n      \"Energy\": 10**(3.6+Math.sqrt(have/10))\r\n    }),\r\n    automates: [\"Steam\"],\r\n    craftTime: 600,\r\n    unlockAt: {\r\n      \"Steam\": 15,\r\n      \"Energy\": 1,\r\n    },\r\n    position: [5, 3]\r\n  }),\r\n  Crucible: new Resource({\r\n    name: \"Crucible\",\r\n    cost: (have) => ({\r\n      \"UpgradePotionII\": 1,\r\n      \"Gold\": 20_000*(have+1),\r\n      \"Copper\": 30_000*(have+1),\r\n      \"Water\": 10_000*(have+1),\r\n      \"Volcano\": 10+have*2,\r\n    }),\r\n    automates: [\"UpgradePotion\", \"UpgradePotionII\"],\r\n    craftTime: 800,\r\n    unlockAt: {\r\n      \"UpgradePotionII\": 1,\r\n    },\r\n    position: [5, 4]\r\n  }),\r\n  UpgradePotion: new Resource({\r\n    name: \"UpgradePotion\",\r\n    cost: {\r\n      \"Vine\": 2,\r\n      \"Mushroom\": 1,\r\n      \"Water\": 5,\r\n      \"Emerald\": 10\r\n    },\r\n    craftTime: 10,\r\n    unlockAt: {\r\n      \"Vine\": 1,\r\n      \"Mushroom\": 1,\r\n    },\r\n    position: [5, 5]\r\n  }),\r\n  UpgradePotionII: new Resource({\r\n    name: \"UpgradePotionII\",\r\n    cost: {\r\n      \"UpgradePotion\": 100,\r\n      \"Core\": 1,\r\n      \"Fruit\": 5_000,\r\n      \"Sand\": 25_000_000,\r\n      \"Lava\": 5_000,\r\n      \"Sapphire\": 1_000,\r\n    },\r\n    craftTime: 1000,\r\n    unlockAt: {\r\n      \"UpgradePotion\": 1,\r\n      \"Core\": 1\r\n    },\r\n    position: [5, 6]\r\n  }),\r\n  Sand: new Resource({\r\n    name: \"Sand\",\r\n    unlockAt: {\r\n      \"Sand\": 1,\r\n    },\r\n    position: [5, 7]\r\n  }),\r\n  Glass: new Resource({\r\n    name: \"Glass\",\r\n    cost: {\r\n      \"Sand\": 1,\r\n      \"Charcoal\": 1\r\n    },\r\n    craftTime: 6,\r\n    unlockAt: {\r\n      \"Sand\": 1,\r\n    },\r\n    position: [5, 8]\r\n  }),\r\n\r\n  Axe: new Resource({\r\n    name: \"Axe\",\r\n    description: \"Cuts tree\",\r\n    cost: (have) => ({\r\n      \"Plank\": 3 * (have+1)**2\r\n    }),\r\n    craftTime: 5,\r\n    automates: [\"Log\"],\r\n    unlockAt: {\r\n      \"Plank\": 1,\r\n    },\r\n    position: [6, 0]\r\n  }),\r\n  Saw: new Resource({\r\n    name: \"Saw\",\r\n    description: \"Automates Plank\",\r\n    cost: (have) => ({\r\n      \"Copper\": 2.5 * (have+1)**1.2,\r\n      \"Iron\": 3 * (have+1)**1.2\r\n    }),\r\n    craftTime: 60,\r\n    automates: [\"Plank\"],\r\n    unlockAt: {\r\n      \"Copper\": 1,\r\n      \"Iron\": 1,\r\n    },\r\n    position: [6, 1]\r\n  }),\r\n  Pickaxe: new Resource({\r\n    name: \"Pickaxe\",\r\n    description: \"Automatically mines stone\",\r\n    cost: (have) => ({\r\n      \"Plank\": 10 * (have + 1)**(have / 100 + 1),\r\n      \"Stone\": 6 * have**1.4,\r\n      \"Copper\": 3 * Math.max(0, have-4)**2,\r\n      \"Iron\": 5 * Math.max(0, have-9)**2,\r\n      \"Gold\": 7 * Math.max(0, have-14)**2,\r\n    }),\r\n    craftTime: 30,\r\n    automates: [\"Stone\"],\r\n    effectMultiply: (savefile) => {\r\n      let mult = 1;\r\n      mult *= savefile[Resources.GemstonePickaxe.order].have/3 + 1;\r\n      mult *= savefile[Resources.PickaxeUpgrade.order].have/3 + 1;\r\n      return mult;\r\n    },\r\n    unlockAt: {\r\n      \"Plank\": 1\r\n    },\r\n    position: [6, 2]\r\n  }),\r\n  GemstonePickaxe: new Resource({\r\n    name: \"GemstonePickaxe\",\r\n    description: \"Automatically mines Shiny stone & Boost Pickaxe\",\r\n    cost: (have) => ({\r\n      \"Iron\": 100 * (have+1),\r\n      \"Emerald\": 2 * (have+1),\r\n      \"Amethyst\": 2 * (have-2),\r\n      \"Ruby\": 2 * (have-5),\r\n      \"Sapphire\": 2 * (have-8),\r\n    }),\r\n    craftTime: 120,\r\n    automates: [\"ShinyStone\"],\r\n    effectMultiply: (savefile) => {\r\n      let mult = 1;\r\n      mult *= savefile[Resources.PickaxeUpgrade.order].have/3 + 1;\r\n      return mult;\r\n    },\r\n    unlockAt: {\r\n      \"Emerald\": 1,\r\n    },\r\n    position: [6, 3],\r\n  }),\r\n  Pump: new Resource({\r\n    name: \"Pump\",\r\n    description: \"Generates Water\",\r\n    cost: (have) => ({\r\n      \"Copper\": 5*(have+1)**1.2,\r\n      \"Iron\": 3*(have+1)**1.2,\r\n      \"Gold\": 3*(have+1)**1.2,\r\n    }),\r\n    craftTime: 30,\r\n    automates: [\"Water\"],\r\n    effectMultiply: (savefile) => savefile[Resources.LiquidUpgrade.order].have/3+1,\r\n    unlockAt: {\r\n      \"Copper\": 1,\r\n    },\r\n    position: [6, 4]\r\n  }),\r\n  Volcano: new Resource({\r\n    name: \"Volcano\",\r\n    description: \"Automates Lava\",\r\n    cost: (have) => ({\r\n      \"Stone\": 200,\r\n      \"Lava\": 1*(have+1)*(have/15+1),\r\n    }),\r\n    craftTime: 35,\r\n    automates: [\"Lava\"],\r\n    effectMultiply: (savefile) => savefile[Resources.LiquidUpgrade.order].have/3+1,\r\n    unlockAt: {\r\n      \"Lava\": 1,\r\n    },\r\n    position: [6, 5]\r\n  }),\r\n  MetalworkFactory: new Resource({\r\n    name: \"MetalworkFactory\",\r\n    description: \"Automates Copper, Iron and Gold\",\r\n    cost: (have) => ({\r\n      \"Copper\": 10*((have+1)**1.15),\r\n      \"Iron\": 10*((have+1)**1.15),\r\n      \"Gold\": 10*((have+1)**1.15),\r\n      \"Pump\": 2,\r\n      \"Volcano\": 1,\r\n    }),\r\n    craftTime: 150,\r\n    automates: [\"Iron\", \"Gold\", \"Copper\"],\r\n    effectMultiply: (savefile) => savefile[Resources.MetalworkUpgrade.order].have/3+1,\r\n    unlockAt: {\r\n      \"Pump\": 1,\r\n      \"Volcano\": 1,\r\n    },\r\n    position: [6, 6]\r\n  }),\r\n  CharcoalMiner: new Resource({\r\n    name: \"CharcoalMiner\",\r\n    description: \"Mines Charcoal without any cost\",\r\n    cost: (have) => ({\r\n      \"Steam\": 15*(have+1)**1.2,\r\n      \"Pump\": 2,\r\n      \"Iron\": 50*(have+1)*(1+have/20),\r\n      \"Citizen\": 1+have,\r\n    }),\r\n    craftTime: 300,\r\n    automates: [\"Charcoal\"],\r\n    unlockAt: {\r\n      \"MetalworkFactory\": 1,\r\n    },\r\n    position: [6, 7]\r\n  }),\r\n  GemCutter: new Resource({\r\n    name: \"GemCutter\",\r\n    cost: (have) => ({\r\n      \"Energy\": 10**(3+(have*2)**0.55) > 1e20 ? 1e20*(2**((have-86)**0.5)) : 10**(3+(have*2)**0.55),\r\n      \"Iron\": 1000*(have+1)**1.1,\r\n      \"Water\": 300*(have+1)**1.1,\r\n      \"Lava\": 100*(have+1)**1.1\r\n    }),\r\n    automates: [\"Emerald\", \"Amethyst\", \"Ruby\", \"Sapphire\"],\r\n    craftTime: 300,\r\n    unlockAt: {\r\n      \"CharcoalMiner\": 1,\r\n      \"Energy\": 1,\r\n      \"Emerald\": 1,\r\n    },\r\n    position: [6, 8]\r\n  }),\r\n\r\n  Overworld: new Resource({\r\n    name: \"Overworld\",\r\n    cost: (have) => ({\r\n      \"DivineShard\": 75*(have+1),\r\n      \"Tree\": 2_500_000*(have+1),\r\n      \"Vine\": 1_000*(have+1),\r\n      \"Mushroom\": 500*(have+1),\r\n    }),\r\n    automates: [\r\n      \"Explorer\",\r\n      \"Axe\",\r\n      \"Saw\",\r\n      \"CharcoalMiner\",\r\n      \"GemBoost\",\r\n    ],\r\n    craftTime: 1500,\r\n    unlockAt: {\r\n      \"FastForward\": 3\r\n    },\r\n    keepOnPrestige: true,\r\n    position: [7, 0]\r\n  }),\r\n  Underground: new Resource({\r\n    name: \"Underground\",\r\n    cost: (have) => ({\r\n      \"DivineShard\": 150*(have+1),\r\n      \"Stone\": 15e6*(have+1),\r\n      \"Core\": 3*(have+1),\r\n      \"Volcano\": 100*(have+1),\r\n      \"Sapphire\": 5_000*(have+1)\r\n    }),\r\n    craftTime: 3000,\r\n    automates: [\r\n      \"Pickaxe\",\r\n      \"GemstonePickaxe\",\r\n      \"Volcano\",\r\n      \"PickaxeUpgrade\"\r\n    ],\r\n    unlockAt: {\r\n      \"Overworld\": 1,\r\n      \"Core\": 1\r\n    },\r\n    keepOnPrestige: true,\r\n    position: [7, 1]\r\n  }),\r\n  Ocean: new Resource({\r\n    name: \"Ocean\",\r\n    cost: (have) => ({\r\n      \"DivineShard\": 450*(have+1),\r\n      \"Water\": 1e6*(have+1),\r\n      \"Sand\": 1e9*(have+1),\r\n      \"Steam\": 50_000*(have+1),\r\n      \"UpgradePotionII\": 8*(have+1),\r\n    }),\r\n    craftTime: 9000,\r\n    automates: [\r\n      \"Orchard\",\r\n      \"Pump\",\r\n      \"SteamProducer\",\r\n      \"Crucible\",\r\n      \"LiquidUpgrade\"\r\n    ],\r\n    unlockAt: {\r\n      \"Underground\": 1\r\n    },\r\n    keepOnPrestige: true,\r\n    position: [7, 2]\r\n  }),\r\n  City: new Resource({\r\n    name: \"City\",\r\n    cost: (have) => ({\r\n      \"DivineShard\": 1800*(have+1),\r\n      \"Brick\": 1e6*(have+1),\r\n      \"Citizen\": 15_000*(have+1),\r\n      \"House\": 5_000*(have+1),\r\n      \"Generator\": 150*(have+1),\r\n    }),\r\n    craftTime: 12000,\r\n    automates: [\r\n      \"CityBuilder\",\r\n      \"Generator\",\r\n      \"MetalworkFactory\",\r\n      \"GemCutter\",\r\n      \"MetalworkUpgrade\"\r\n    ],\r\n    unlockAt: {\r\n      \"Ocean\": 1\r\n    },\r\n    keepOnPrestige: true,\r\n    position: [7, 3]\r\n  }),\r\n  PlanetEssence: new Resource({\r\n    name: \"PlanetEssence\",\r\n    // unlockAt: {\r\n    //   \"City\": 1,\r\n    // },\r\n    automates: [\r\n      \"ReplicantiBoost\",\r\n      \"ReplicantiBoostII\"\r\n    ],\r\n    keepOnPrestige: true,\r\n    position: [7, 4]\r\n  }),\r\n\r\n  DivinePowder: new Resource({\r\n    name: \"DivinePowder\",\r\n    cost: (have) => ({\r\n      \"Replicanti\": 10**((have/8)**0.87+6) > 1e50 ? 1e50/1e22*have**(2+Math.log(have/100+1)*3) : 10**((have/8)**0.87+6),\r\n      \"Energy\": 10**(2+(Math.log(have/3+1)**1.3)*(1+Math.log(have/10000+1))),\r\n      \"Sapphire\": 1+have**0.3,\r\n      \"UpgradePotion\": Math.floor(have/100)**0.7,\r\n      \"UpgradePotionII\": (have%1000 === 0 && have !== 0) * Math.floor(have/1000)**0.7\r\n    }),\r\n    craftTime: 3,\r\n    unlockAt: {\r\n      \"Replicanti\": 1,\r\n      \"Energy\": 1,\r\n    },\r\n    canEmpower: false,\r\n    position: [8, 0]\r\n  }),\r\n  DivineShard: new Resource({\r\n    name: \"DivineShard\",\r\n    unlockAt: {\r\n      \"DivinePowder\": 1,\r\n    },\r\n    keepOnPrestige: true,\r\n    position: [8, 1]\r\n  }),\r\n  Empowerer: new Resource({\r\n    name: \"Empowerer\",\r\n    cost: (have) => ({\r\n      \"DivineShard\": 1+Math.floor(have**1.2)\r\n    }),\r\n    craftTime: 60,\r\n    unlockAt: {\r\n      \"DivineShard\": 1\r\n    },\r\n    keepOnPrestige: true,\r\n    canEmpower: false,\r\n    position: [8, 2]\r\n  }),\r\n  FastForward: new Resource({\r\n    name: \"FastForward\",\r\n    cost: (have) => ({\r\n      \"DivineShard\": 10*(1+have**1.5/3)*(1 + Math.max(0, have-10)/2),\r\n      \"Cluster\": 1+have\r\n    }),\r\n    craftTime: 600,\r\n    unlockAt: {\r\n      \"Empowerer\": 1\r\n    },\r\n    effectMultiply: (savefile) => {\r\n      let FastForward = savefile[Resources.FastForward.order].have\r\n      return 1+(FastForward)*(FastForward+1)/10;\r\n    },\r\n    canEmpower: false,\r\n    keepOnPrestige: true,\r\n    position: [8, 3]\r\n  }),\r\n  EmpowerCap: new Resource({\r\n    name: \"EmpowerCap\",\r\n    cost: (have) => ({\r\n      \"DivineShard\": 3**(Math.sqrt(have)+4.5) - 41,\r\n      \"Cluster\": 10*(have+1),\r\n      \"UpgradePotionII\": (have+1)**(2+have/20),\r\n    }),\r\n    craftTime: 5000,\r\n    unlockAt: {\r\n      \"FastForward\": 1,\r\n      \"UpgradePotionII\": 1\r\n    },\r\n    canEmpower: false,\r\n    keepOnPrestige: true,\r\n    position: [8, 4]\r\n  }),\r\n  DivineFactory: new Resource({\r\n    name: \"DivineFactory\",\r\n    cost: (have) => ({\r\n      \"DivineShard\": 100*((have+1)**2),\r\n      \"Cluster\": 37+3*have,\r\n      \"MetalworkFactory\": 25*(have+1),\r\n    }),\r\n    automates: [\"DivinePowder\"],\r\n    craftTime: 6000,\r\n    unlockAt: {\r\n      \"FastForward\": 3\r\n    },\r\n    keepOnPrestige: true,\r\n    canEmpower: false,\r\n    position: [8, 5]\r\n  }),\r\n  Cluster: new Resource({\r\n    name: \"Cluster\",\r\n    cost: (have) => ({\r\n      \"Replicanti\": Math.floor(10**(have-2 + Math.max(0, have-30)**0.6)),\r\n      [ResourceArr[(have+1)%63] ? ResourceArr[(have+1)%63].name : \"DivineShard\"]: 1+have,\r\n    }),\r\n    craftTime: 100,\r\n    unlockAt: {\r\n      \"Empowerer\": 1\r\n    },\r\n    keepOnPrestige: true,\r\n    noConsume: true,\r\n    canEmpower: false,\r\n    position: [8, 6]\r\n  }),\r\n  ReplicantiBoost: new Resource({\r\n    name: \"ReplicantiBoost\",\r\n    cost: (have) => ({\r\n      \"Replicanti\": 10**(have+2),\r\n      \"Energy\": 10**(1.6+have**0.7+Math.max(0, have-80)/4)\r\n    }),\r\n    craftTime: 100,\r\n    unlockAt: {\r\n      \"Replicanti\": 1,\r\n    },\r\n    canEmpower: false,\r\n    position: [8, 7]\r\n  }),\r\n  Replicanti: new Resource({\r\n    name: \"Replicanti\",\r\n    cost: {\r\n      \"Replicanti\": 1\r\n    },\r\n    craftMultiply: 2,\r\n    effectMultiply: (savefile) => {\r\n      const replicanti = savefile[Resources.Replicanti.order].have;\r\n      const replicantiBoost = savefile[Resources.ReplicantiBoost.order].have;\r\n      const replicantiBoostII = savefile[Resources.ReplicantiBoostII.order].have;\r\n      const replicantiMult = (3**replicantiBoostII) * (1.5**(Math.min(17, replicantiBoost+1) + Math.max(0, replicantiBoost-17)**0.85));\r\n      const replicantiPow = 0.6 + 0.30*(1-1/(replicantiBoost/25+1));\r\n      return replicantiMult*(replicanti+1)**replicantiPow/(replicanti+1);\r\n    },\r\n    unlockAt: {\r\n      \"Replicanti\": 1,\r\n    },\r\n    automates: [\"Replicanti\"],\r\n    craftTime: 20,\r\n    position: [8, 8]\r\n  }),\r\n};\r\n\r\n\r\n\r\n/** @type {Resource[]} */\r\nexport const ResourceArr = new Array(81).fill(null);\r\nfor (const id in Resources) {\r\n  /** @type {Resource} */\r\n  const Resource = Resources[id];\r\n  const position = 9*Resource.position.y + Resource.position.x;\r\n  ResourceArr[position] = Resource;\r\n}\r\n\r\nexport const AutoConnected = Array.from({ length: 81 }, (_, i) => {\r\n  if (!ResourceArr[i]) return -1;\r\n  return ResourceArr.findIndex(e => e && e.automates ? e.automates.includes(ResourceArr[i].name) : false);\r\n});\r\n\r\n\r\n\r\n/**\r\n * @param {string} name \r\n * @returns {Resource}\r\n */\r\nexport function getResourceByName(name) {\r\n  return Resources[name];\r\n}\r\n\r\n\r\n\r\n/**\r\n * @param {string} name \r\n * @param {DefaultSave} savefile \r\n * @returns \r\n */\r\nexport function canBuy(name, savefile) {\r\n  const Resource = getResourceByName(name);\r\n  if (savefile.resources[Resource.order].startTime !== null) return;\r\n\r\n  const cost = Resource.cost(savefile.resources[Resource.order].have);\r\n  \r\n  let bulk = Infinity;\r\n  if (cost === null) return bulk;\r\n\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _have = savefile.resources[getResourceByName(resourceName).order].have;\r\n    if (_cost > _have) return false;\r\n    bulk = Math.min(bulk, _have/_cost);\r\n  }\r\n  return Math.floor(bulk);\r\n}\r\n/**\r\n * @param {string} name \r\n * @param {boolean} doBulk\r\n * @param {DefaultSave} savefile \r\n * @returns \r\n */\r\nexport function buy(name, savefile, doBulk=false) {\r\n  const Resource = getResourceByName(name);\r\n\r\n  const cost = Resource.cost(savefile);\r\n  const bulk = doBulk ? canBuy(savefile) : 1;\r\n  \r\n  if (!bulk) return false;\r\n\r\n  for (const resourceName in cost) {\r\n    const _cost = bulk * cost[resourceName];\r\n    const _order = getResourceByName(resourceName).order;\r\n    savefile.resources[_order].have -= _cost;\r\n  }\r\n\r\n  savefile.resources[Resource.order].startTime = new Date().getTime();\r\n\r\n  return bulk;\r\n}\r\nexport function getCooldown(name, savefile) {\r\n  const Resource = Resources[name];\r\n  const order = Resource.order;\r\n\r\n  let craftTime = Resource.craftTime*1000;\r\n  if (AutoConnected[order] !== -1) {\r\n    craftTime /= Math.max(1, savefile.resources[AutoConnected[order]].have);\r\n    if (savefile.resources[AutoConnected[order]].have >= 1) craftTime /= ResourceArr[AutoConnected[order]].effectMultiply(savefile.resources);\r\n  }\r\n  craftTime /= Resources.FastForward.effectMultiply(savefile.resources);\r\n  craftTime /= 1 + savefile.resources[order].empower/2;\r\n\r\n  return craftTime;\r\n}\r\nexport function isUnlocked(name, savefile) {\r\n  const Resource = Resources[name];\r\n\r\n  if (!Resource || !Resource.unlockAt) return false;\r\n  for (const name in Resource.unlockAt) {\r\n    if (savefile[Resources[name].order].have < Resource.unlockAt[name]) return false;\r\n  }\r\n  return true;\r\n}\r\n","// import produce from 'immer';\r\nimport { load } from \"../saveload\";\r\nimport { Resources, ResourceArr } from \"../data/resources\";\r\n\r\nconst CRAFT_START = \"resource/CRAFT_START\";\r\nconst CRAFT_UPDATE = \"resource/CRAFT_UPDATE\";\r\nconst RESOURCE_UNLOCK = \"resource/RESOURCE_UNLOCK\";\r\nconst TOGGLE_AUTO = \"resource/TOGGLE_AUTO\";\r\nconst RESOURCE_EMPOWER = \"resource/EMPOWER\";\r\nconst REMOVE_EMPOWERER = \"resource/REMOVE_EMPOWERER\";\r\nconst RESET_RESOURCE_DATA = \"resource/RESET_RESOURCE_DATA\";\r\n\r\nexport const craftStart = (order, isAuto) => ({\r\n  type: CRAFT_START,\r\n  order,\r\n  isAuto,\r\n});\r\nexport const craftUpdate = ({\r\n  order,\r\n  isAuto,\r\n  Time,\r\n  progressIncrement,\r\n  dontUpdate,\r\n}) => ({\r\n  type: CRAFT_UPDATE,\r\n  order,\r\n  isAuto,\r\n  Time,\r\n  progressIncrement,\r\n  dontUpdate,\r\n});\r\nexport const resourceUnlock = (order) => ({\r\n  type: RESOURCE_UNLOCK,\r\n  order,\r\n});\r\nexport const toggleAuto = (order) => ({\r\n  type: TOGGLE_AUTO,\r\n  order,\r\n});\r\nexport const resourceEmpower = (order) => ({\r\n  type: RESOURCE_EMPOWER,\r\n  order,\r\n});\r\nexport const removeEmpowerer = (order) => ({\r\n  type: REMOVE_EMPOWERER,\r\n  order,\r\n});\r\nexport const resetResourceData = (order) => ({\r\n  type: RESET_RESOURCE_DATA,\r\n  order,\r\n});\r\n\r\nfunction canBuyResource(state, cost) {\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _order = Resources[resourceName].order;\r\n    if (state[_order].have < _cost) return false;\r\n  }\r\n\r\n  return true;\r\n}\r\nfunction buyResource(state, cost, bulkMax = 0) {\r\n  let bulk = bulkMax;\r\n\r\n  // Check can buy & Bulk count\r\n  for (const resourceName in cost) {\r\n    const _cost = cost[resourceName];\r\n    const _order = Resources[resourceName].order;\r\n    bulk = Math.min(bulk, state[_order].have / _cost);\r\n  }\r\n  bulk = Math.floor(bulk);\r\n  if (bulk <= 0) return false;\r\n\r\n  // Subtract resource\r\n  for (const resourceName in cost) {\r\n    const _Resource = Resources[resourceName];\r\n    if (_Resource.noConsume) continue;\r\n    const _cost = cost[resourceName];\r\n    const _order = Resources[resourceName].order;\r\n    state[_order] = {\r\n      ...state[_order],\r\n      have: state[_order].have - _cost * bulk,\r\n    };\r\n  }\r\n  return bulk;\r\n}\r\n\r\nfunction reducer(state = load().resources, action) {\r\n  const Resource = ResourceArr[action.order];\r\n  if (!Resource) return state;\r\n  const order = action.order;\r\n  const have = state[order].have;\r\n  const isAuto = !state[order].automationDisabled && action.isAuto;\r\n\r\n  let cost = Resource.cost(have, isAuto);\r\n\r\n  switch (action.type) {\r\n    case CRAFT_START:\r\n      state = [...state];\r\n      if (state[order].lastTime !== null) return state;\r\n      const canBuy = buyResource(state, cost, 1);\r\n      if (!canBuy) {\r\n        // If crafting progress is greater then 0, set it to 0\r\n        if (state[order].progress !== 0) {\r\n          state[order] = {\r\n            ...state[order],\r\n            progress: 0,\r\n          };\r\n        }\r\n        return state;\r\n      }\r\n\r\n      state[order] = {\r\n        ...state[order],\r\n        lastTime: new Date().getTime(),\r\n        progress: 0,\r\n      };\r\n\r\n      return state;\r\n    case CRAFT_UPDATE:\r\n      if (action.dontUpdate) return state;\r\n      state = [...state];\r\n\r\n      state[order] = {\r\n        ...state[order],\r\n        lastTime: action.Time,\r\n        progress:\r\n          (state[order].progress || 0) + (action.progressIncrement || 0),\r\n      };\r\n\r\n      if (state[order].progress >= 1) {\r\n        let bulk = 1;\r\n        const maxBulk = Math.floor(state[order].progress) - 1;\r\n        if (isAuto) {\r\n          if (Resource.canBulkBuy) {\r\n            bulk += buyResource(state, cost, maxBulk);\r\n          } else {\r\n            for (let i = 0; i < Math.min(50, maxBulk); i++) {\r\n              cost = Resource.cost(have+i, isAuto);\r\n              if (buyResource(state, cost, 1)) {\r\n                bulk++;\r\n              } else {\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          state[order].have += bulk * Resource.craftMultiply;\r\n          if (!canBuyResource(state, cost)) {\r\n            state[order].lastTime = null;\r\n            state[order].progress = 0;\r\n          } else {\r\n            cost = Resource.cost(have, isAuto);\r\n            buyResource(state, cost, 1);\r\n            state[order].progress %= 1;\r\n          }\r\n        } else {\r\n          state[order].have += Resource.craftMultiply;\r\n          state[order].progress = 0;\r\n          state[order].lastTime = null;\r\n        }\r\n\r\n        const EffectMultiply = Resource.effectMultiply(state);\r\n        // randomGrantOnCraft\r\n        for (let i = 0; i < Resource.randomGrantOnCraft.length; i++) {\r\n          const [chance, toGrant] = Resource.randomGrantOnCraft[i];\r\n          const realChance = chance * EffectMultiply;\r\n          const grantChance = 1 - (1 - Math.min(1, realChance)) ** bulk;\r\n          const grantCount =\r\n            bulk * realChance > 5 || grantChance >= 0.99\r\n              ? Math.round(bulk * realChance)\r\n              : +(Math.random() < grantChance);\r\n          if (grantCount >= 1) {\r\n            state[Resources[toGrant].order] = {\r\n              ...state[Resources[toGrant].order],\r\n              have: state[Resources[toGrant].order].have + grantCount,\r\n            };\r\n          }\r\n        }\r\n      }\r\n      return state;\r\n    case RESOURCE_UNLOCK:\r\n      state = [...state];\r\n      state[order] = {\r\n        ...state[order],\r\n        unlocked: true,\r\n      };\r\n      return state;\r\n    case TOGGLE_AUTO:\r\n      state = [...state];\r\n      state[order] = {\r\n        ...state[order],\r\n        automationDisabled: !state[order].automationDisabled,\r\n      };\r\n      return state;\r\n    case RESOURCE_EMPOWER:\r\n      if (\r\n        !Resource.canEmpower ||\r\n        state[order].empower >= 5 + state[Resources.EmpowerCap.order].have\r\n      )\r\n        return state;\r\n      state = [...state];\r\n      state[order] = {\r\n        ...state[order],\r\n        empower: state[order].empower + 1,\r\n      };\r\n      return state;\r\n    case REMOVE_EMPOWERER:\r\n      state = [...state];\r\n      state[order] = {\r\n        ...state[order],\r\n        empower: 0,\r\n      };\r\n      return state;\r\n    case RESET_RESOURCE_DATA:\r\n      state = [...state];\r\n      if (!Resource.keepOnPrestige) {\r\n        state[order] = {\r\n          ...state[order],\r\n          have: Resource.defaultQuantity,\r\n          lastTime: null,\r\n          progress: 0,\r\n          unlocked: false,\r\n        };\r\n      }\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","let notation1 = [\"\", \"K\", \"M\", \"B\", \"T\", \"q\", \"Q\", \"s\", \"S\", \"O\", \"N\"];\r\nlet notation2 = [\"\", \"U\", \"D\", \"T\", \"q\", \"Q\", \"s\", \"S\", \"O\", \"N\"];\r\nlet notation3 = [\"\", \"D\", \"V\", \"Tg\", \"qu\", \"Qi\", \"sx\", \"Sp\", \"Oc\", \"No\"];\r\nexport default function notation(x, precision=3, focusDecimal=false) {\r\n  let numberPartLength = precision;\r\n  let extra = \"\";\r\n\r\n  let sign = Math.sign(x);\r\n  if (sign === -1) numberPartLength -= 1;\r\n  x = Math.abs(x);\r\n  if (x !== 0 && x < 10**(-precision)) {\r\n    x = x**-1;\r\n    extra += \"1/\";\r\n    numberPartLength -= 2;\r\n  }\r\n\r\n  let OOM = Math.floor(Math.log10(Math.max(1, Math.abs(x))));\r\n  let suffixLevel = Math.floor(OOM/3);\r\n  let suffixPart = (suffixLevel < 11 ? notation1[suffixLevel] : notation2[(suffixLevel-1)%10] + notation3[Math.floor((suffixLevel-1)/10)]);\r\n  numberPartLength -= suffixPart.length;\r\n  let numberPart = (x/10**(suffixLevel*3)).toFixed(Math.max(0, numberPartLength-OOM%3));\r\n  if (!focusDecimal && x < 1000 && Number.isInteger(x)) numberPart = x;\r\n  return extra + numberPart + suffixPart;\r\n}\r\n","export default \"data:image/png;base64,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\"","import styled from 'styled-components';\r\nimport resourceImage from \"../../resources/Resources.png\";\r\n\r\nconst Image = styled.div`\r\n  --resourceGap: calc(var(--imageSize) * 9 / 8);\r\n  --imageScale: calc(81 / 8);\r\n  \r\n  display: inline-block;\r\n\r\n  width: var(--imageSize);\r\n  height: var(--imageSize);\r\n\r\n  background-image: url(${resourceImage});\r\n  background-repeat: no-repeat;\r\n  background-size: calc(100% * var(--imageScale));\r\n  image-rendering: pixelated;\r\n  image-rendering: crisp-edges;\r\n`;\r\n\r\nfunction ResourceImage({ size, position, style, content }) {\r\n  return (\r\n    <Image\r\n      style={{\r\n        \"--imageSize\": size,\r\n        backgroundPosition: `calc(var(--resourceGap) * -${position.x}) calc(var(--resourceGap) * -${position.y})`,\r\n        ...style\r\n      }}\r\n    >{content}</Image>\r\n  )\r\n}\r\n\r\nexport default ResourceImage;","import styled from 'styled-components';\r\nimport notation from \"../../util/notation.js\";\r\nimport { Resources } from '../../data/resources';\r\nimport ResourceImage from \"./ResourceImage.js\";\r\n\r\nconst RescouceCostList = styled.div`\r\n  --itemHeight: calc(var(--cellHeight) / 6);\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  & > div:nth-child(1) {\r\n    border-radius: 0 var(--borderRadius) 0 0;\r\n  }\r\n  & > div:nth-child(2n-1) {\r\n    background-color: var(--colOverlay);\r\n  }\r\n`;\r\nconst RescouceCostItem = styled.div`\r\n  width: var(--cellWidth);\r\n\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst ResourceCostText = styled.span`\r\n  font-weight: bold;\r\n`;\r\n\r\n\r\nfunction ResourceCost({ cost }) {\r\n  return (\r\n    <RescouceCostList>\r\n      {\r\n        cost.map(([costResourceName, costQuantity], index) => {\r\n          const Resource = Resources[costResourceName];\r\n\r\n          return (\r\n            <RescouceCostItem key={index}>\r\n              <ResourceImage\r\n                size=\"min(var(--itemHeight), var(--itemHeight))\"\r\n                position={Resource.position}\r\n                style={{\r\n                  filter: \"drop-shadow(var(--baseShadowSmall))\"\r\n                }}\r\n              />\r\n              <ResourceCostText>{notation(costQuantity)}</ResourceCostText>\r\n            </RescouceCostItem>\r\n          )\r\n        })\r\n      }\r\n    </RescouceCostList>\r\n  )\r\n}\r\n\r\nexport default ResourceCost;","import styled, { keyframes } from 'styled-components';\r\nimport { Resources } from \"../../data/resources.js\";\r\nimport ResourceImage from \"./ResourceImage.js\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCogs } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst appearAnimation = keyframes`\r\n  from {\r\n    transform: scale(0, 1);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: scale(1, 1);\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst Warpper = styled.div`\r\n  --height: calc(var(--cellHeight) / 10 * 1.75);\r\n\r\n  padding: calc(var(--height) * 0.15) 0;\r\n\r\n  position: absolute;\r\n  bottom: calc(var(--height) * -1.4);\r\n  \r\n  min-width: 80%;\r\n  height: var(--height);\r\n\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n\r\n  background: var(--colMain4);\r\n  border-radius: calc(var(--height));\r\n  box-shadow: var(--baseShadow);\r\n  transform: scale(0, 1);\r\n\r\n  pointer-events: none;\r\n  animation: ${appearAnimation} 0.15s ease-out forwards;\r\n  z-index: 1;\r\n`;\r\n\r\nfunction ResourceAutomate({ Resource, save }) {\r\n  return (\r\n    <>\r\n      {(Resource.automates && Resource.automates.length > 0) &&\r\n        <Warpper>\r\n          <FontAwesomeIcon\r\n            icon={faCogs}\r\n            style={{\r\n              position: \"absolute\",\r\n              color: \"var(--colReverseWeak)\",\r\n\r\n              left: 0,\r\n              bottom: 0,\r\n              transform: \"translate(-50%, 50%)\",\r\n\r\n              filter: \"drop-shadow(var(--baseShadow))\",\r\n\r\n              zIndex: 1,\r\n            }}\r\n          />\r\n          {\r\n            Resource.automates.map(_ResourceName => {\r\n              const _Resource = Resources[_ResourceName];\r\n              return (\r\n                <ResourceImage\r\n                  key={_Resource.name}\r\n                  size=\"var(--height)\"\r\n                  position={_Resource.position}\r\n                  style={{filter: \"drop-shadow(var(--baseShadowSmall))\"}}\r\n                />\r\n              );\r\n            })\r\n          }\r\n        </Warpper>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ResourceAutomate;\r\n","import { connect } from \"react-redux\";\r\nimport styled from 'styled-components';\r\nimport notation from \"../../util/notation.js\";\r\nimport { Resources } from \"../../data/resources.js\";\r\nimport ResourceImage from \"./ResourceImage.js\";\r\n\r\nconst ResourceRandomTable = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  transform: translateX(100%);\r\n\r\n  min-width: 60%;\r\n  height: var(--boxSize);\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  border-radius: 0 calc(var(--boxSize) / 10) calc(var(--boxSize) / 10) 0;\r\n  background-color: var(--colOverlayReverse);\r\n\r\n  pointer-events: none;\r\n`;\r\nconst EffectDisplay = styled.div`\r\n  flex: 1;\r\n\r\n  border-radius: 0 calc(var(--boxSize) / 10) 0 0;\r\n  background-color: var(--colOverlayReverse);\r\n\r\n  &::before {\r\n    font-size: 0.8em;\r\n    content: \"Eff x\";\r\n  }\r\n`;\r\nconst ChanceTable = styled.div`\r\n  flex: 5;\r\n`;\r\nconst ChanceItem = styled.div`\r\n  --itemHeight: calc(var(--boxSize) / 6);\r\n\r\n  height: var(--itemHeight);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n`;\r\n\r\n\r\nfunction ResourceRandom({ Resource, save }) {\r\n  const EffectMultiply = Resource ? Resource.effectMultiply(save) : 1;\r\n  const RandomTable = Resource.randomGrantOnCraft.map(e => [e[0]*EffectMultiply, e[1]]);\r\n\r\n  return (RandomTable.length !== 0 || EffectMultiply !== 1 ?\r\n    <ResourceRandomTable>\r\n      <EffectDisplay>{notation(EffectMultiply)}</EffectDisplay>\r\n      <ChanceTable>\r\n        {RandomTable.map(([chance, resource]) => {\r\n          const Resource = Resources[resource];\r\n          return (\r\n            <ChanceItem\r\n              key={Resource.name}\r\n            >\r\n              {save[Resource.order].unlocked ? <ResourceImage\r\n                size=\"var(--itemHeight)\"\r\n                position={Resource.position}\r\n              /> : <span>?&nbsp;</span>}\r\n              <span>{(chance < 1e-5 ?\r\n                notation(chance, 3, true).padStart(6, \"\\u00A0\") :\r\n                chance < 1 ?\r\n                notation(chance*100, 3, true).padStart(6, \"\\u00A0\")+\"%\" :\r\n                \"\\u00A0x\" + notation(chance, 3, true)\r\n              )}</span>\r\n            </ChanceItem>\r\n          );\r\n        })}\r\n      </ChanceTable>\r\n    </ResourceRandomTable>\r\n  : <></>);\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    save: state.resources\r\n  }),\r\n  {}\r\n)(ResourceRandom);\r\n","import { connect } from 'react-redux';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { getCooldown } from '../../data/resources.js';\r\nimport notation from '../../util/notation';\r\n\r\nconst appearAnimation = keyframes`\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n`;\r\nconst ProductionDisplay = styled.div`\r\n  position: absolute;\r\n  bottom: 18%;\r\n  left: 47%;\r\n  transform: translateX(-100%);\r\n\r\n  padding: 2%;\r\n\r\n  color: var(--colReverse);\r\n  font-size: 0.7em;\r\n  font-weight: bold;\r\n\r\n  background-color: var(--colOverlayReverse);\r\n  border-radius: 25%;\r\n\r\n  animation: ${appearAnimation} 0.2s ease-out forwards;\r\n  z-index: 1;\r\n  pointer-events: none;\r\n`;\r\n\r\nfunction ResourcProduction({ Resource, autoConnected, save }) {\r\n  const cooldown = getCooldown(Resource.name, save) || 0;\r\n  const isAuto = autoConnected !== -1 ? save.resources[autoConnected].have >= 1 : false;\r\n\r\n  return ( cooldown !== 0 ?\r\n    (\r\n      <ProductionDisplay>\r\n        {isAuto ?\r\n          notation(Math.max(0, 1000/cooldown)) + \"/s\":\r\n          (cooldown/1000).toFixed(2) + \"s\"}\r\n      </ProductionDisplay>\r\n    )\r\n  : <></>)\r\n}\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    save: state\r\n  }),\r\n)(ResourcProduction);\r\n","import React, { useState } from 'react';\r\nimport { connect, useSelector } from \"react-redux\";\r\nimport { craftStart, toggleAuto, resourceEmpower } from \"../../modules/resources.js\";\r\nimport styled, { keyframes } from 'styled-components';\r\nimport notation from \"../../util/notation.js\";\r\nimport { AutoConnected } from \"../../data/resources.js\";\r\n// eslint-disable-next-line\r\nimport Resource from '../../class/Resource';\r\nimport ResourceImage from \"./ResourceImage\";\r\nimport ResourceCost from \"./ResourceCost.js\";\r\nimport ResourceAutomate from './ResourceAutomates.js';\r\nimport ResourceRandomTable from \"./ResourceRandom.js\";\r\nimport ResoruceProduction from './ResourceProduction.js';\r\n\r\nconst namespaceAppear = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(100%) scale(0.2, 1);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0) scale(1, 1);\r\n  }\r\n`;\r\nconst ResourceWarp = styled.div`\r\n  --margin: calc(var(--cellSize) / 10);\r\n  --boxRatio: 1.3;\r\n  --boxSize: calc(var(--cellSize) - var(--margin));\r\n  --cellWidth: calc(var(--boxSize) / var(--boxRatio));\r\n  --cellHeight: var(--boxSize);\r\n  --borderRadius: calc(var(--boxSize) / 15);\r\n\r\n  margin: calc(var(--margin) / 2);\r\n\r\n  width: var(--cellWidth);\r\n  height: var(--cellHeight);\r\n  \r\n  background-color: var(--colMain3);\r\n  border-radius: var(--borderRadius);\r\n  box-shadow: var(--baseShadow);\r\n\r\n  transform: scale(1);\r\n  cursor: pointer;\r\n\r\n  transition: all 0.3s cubic-bezier(0,.79,.32,1);\r\n\r\n  &:hover {\r\n    width: calc(var(--boxSize) / var(--boxRatio) * 2);\r\n    background-color: var(--colMain4);\r\n    transform: scale(1.4);\r\n    z-index: 1;\r\n  }\r\n\r\n  &:hover::before {\r\n    content: attr(name);\r\n\r\n    padding: 1% 5% 0 5%;\r\n    \r\n    min-width: 60%;\r\n    height: 15%;\r\n\r\n    position: absolute;\r\n    top: -16%;\r\n    left: 5%;\r\n\r\n    color: var(--colMainReverse);\r\n    word-spacing: -0.3em;\r\n    font-size: 0.9em;\r\n    text-align: center;\r\n\r\n    background-color: var(--colMain4);\r\n    border-radius: calc(var(--cellSize) / 30) calc(var(--cellSize) / 30) 0 0;\r\n\r\n    animation: ${namespaceAppear} 0.4s cubic-bezier(.12,.81,.31,.95);\r\n    \r\n    pointer-events: none;\r\n  }\r\n`;\r\nconst ResourceInfo = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  \r\n  & > span {\r\n    display: inline-block;\r\n\r\n    width: calc(var(--boxSize) / var(--boxRatio));\r\n    height: calc(var(--boxSize));\r\n  }\r\n`;\r\nconst ResourceProgress = styled.span`\r\n  position: absolute;\r\n  bottom: 0;\r\n\r\n  width: 100%;\r\n  height: 0%;\r\n  max-height: 100%;\r\n\r\n  background-color: var(--colOverlay);\r\n  border-radius: var(--borderRadius);\r\n\r\n  z-index: -1;\r\n`;\r\nconst ResourceQuantity = styled.div`\r\n  padding-right: calc(var(--boxSize) / 20);\r\n\r\n  text-align: right;\r\n  font-weight: bolder;\r\n  color: var(--colReverse);\r\n`;\r\n\r\n/**\r\n * @param {object} obj\r\n * @param {Resource} obj.data \r\n */\r\nfunction ResourceGridItem({ Resource, index, craftStart, selectMode, toggleAuto, resourceEmpower, empowerLeft, cooldown }) {\r\n  const [isHover, setHover] = useState(false);\r\n\r\n  const displayName = Resource ? Resource.name.replace(/(.)([A-Z])/g, `$1 $2`) : \"\";\r\n  const save = useSelector(state => state.resources[index]);\r\n  const cost = Resource ? Object.entries(Resource.cost(save.have) ?? {}) : [];\r\n  const autoConnected = AutoConnected[index];\r\n\r\n  const displayResource =\r\n  save.unlocked &&\r\n  (selectMode !== \"AutoToggle\" || autoConnected !== -1) &&\r\n  (selectMode !== \"Empower\" || (save.unlocked && Resource.canEmpower));\r\n\r\n  return (\r\n    <ResourceWarp\r\n      onClick={() => {\r\n        switch (selectMode) {\r\n          case \"AutoToggle\":\r\n            toggleAuto(index);\r\n            break;\r\n          case \"Empower\":\r\n            if (empowerLeft > 0) resourceEmpower(index);\r\n            break;\r\n          default:\r\n            if (Resource && Object.keys(Resource.cost(save.have) ?? {}).length !== 0) {\r\n              craftStart(index);\r\n            }\r\n        }\r\n      }}\r\n      onMouseEnter={() => setHover(true)}\r\n      onMouseLeave={() => setHover(false)}\r\n      name={displayName}\r\n      style={{\r\n        backgroundColor: (save.unlocked && (save.automationDisabled || (selectMode === \"AutoToggle\" && displayResource))) ?\r\n          (!save.automationDisabled ? \"#1c5412\" : \"#541212\" ) :\r\n          undefined, // TODO: make this better\r\n        opacity: displayResource ? undefined : 0.3,\r\n        pointerEvents: displayResource ? undefined: \"none\"\r\n      }}\r\n    >\r\n      {\r\n        (displayResource && Resource) &&\r\n        <ResourceInfo>\r\n          <span>\r\n            <ResourceImage\r\n              size=\"calc(var(--boxSize) / var(--boxRatio) - var(--margin))\"\r\n              position={Resource.position}\r\n              style={{filter: \"drop-shadow(var(--baseShadow))\", margin: \"calc(var(--margin) / 2)\"}}\r\n            />\r\n            <ResourceQuantity>{notation(save.have)}</ResourceQuantity>\r\n            <ResourceProgress style={{height: cooldown > 200 || save.automationDisabled ?\r\n              `${save.progress * 100}%` :\r\n              \"100%\"\r\n            }} />\r\n          </span>\r\n          {\r\n            isHover &&\r\n            <>\r\n              <ResourceCost cost={cost}/>\r\n              <ResourceRandomTable Resource={Resource}/>\r\n              <ResourceAutomate Resource={Resource}/>\r\n              <ResoruceProduction Resource={Resource} autoConnected={autoConnected}/>\r\n            </>\r\n          }\r\n        </ResourceInfo>\r\n      }\r\n      {\r\n        (Resource && Resource.canEmpower && ((selectMode === \"Empower\" && save.unlocked) || save.empower >= 1)) &&\r\n        <ResourceImage\r\n          size=\"calc(var(--boxSize) / 2.6)\"\r\n          position={{x: 2, y: 8}}\r\n          content={selectMode === \"Empower\" ? `x${(1+save.empower/2).toFixed(1)}` : save.empower}\r\n          style={{\r\n            position: \"absolute\",\r\n            top: 0, left: 0,\r\n            transform: \"translate(-50%, -50%)\" + (selectMode === \"Empower\" ? \" scale(1.2)\" : \"\"),\r\n            filter: `drop-shadow(var(--baseShadowSmall)) hue-rotate(-${Math.max(0, save.empower-1)*50}deg)` + (save.empower === 0 ? \" grayscale(1)\" : \"\"),\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            textShadow: \"var(--baseShadowSmall)\",\r\n            fontWeight: \"bold\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      }\r\n    </ResourceWarp>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  {\r\n    craftStart,\r\n    toggleAuto,\r\n    resourceEmpower\r\n  }\r\n)(React.memo(ResourceGridItem));\r\n","import { load } from \"../saveload\";\r\n\r\nconst DO_PRESTIGE = \"prestige/DO_PRESTIGE\";\r\nconst END_PRESTIGE = \"prestige/END_PRESTIGE\";\r\nconst DO_RESPEC = \"prestige/RESPEC_EMPOWERER\";\r\nconst END_RESPEC = \"prestige/END_RESPEC\";\r\n\r\nexport const doPrestige = (prestigeResourceQuantity) => ({\r\n  type: DO_PRESTIGE,\r\n  prestigeResourceQuantity,\r\n});\r\nexport const endPrestige = () => ({\r\n  type: END_PRESTIGE,\r\n});\r\nexport const doRespec = () => ({\r\n  type: DO_RESPEC,\r\n});\r\nexport const endRespec = () => ({\r\n  type: END_RESPEC,\r\n});\r\n\r\nconst EMPOWERER_RESPEC_TIME = 10 * 60 * 1000; // 10 minutes\r\n\r\nfunction reducer(state = load().prestige, action) {\r\n  const Time = new Date().getTime();\r\n\r\n  switch (action.type) {\r\n    case DO_PRESTIGE:\r\n      state.doingPrestige = true;\r\n      state.tmpPrestigeResourceQuantity = action.prestigeResourceQuantity;\r\n      state.lastPrestigeResourceQuantity = action.prestigeResourceQuantity;\r\n      state.totalPrestigeResourceQuantity += action.prestigeResourceQuantity;\r\n      return state;\r\n    case END_PRESTIGE:\r\n      state.doingPrestige = false;\r\n      state.tmpPrestigeResourceQuantity = 0;\r\n      return state;\r\n    case DO_RESPEC:\r\n      if (Time - state.empowererRespecTime >= EMPOWERER_RESPEC_TIME) {\r\n        state.doingRespec = true;\r\n        state.empowererRespecTime = Time;\r\n      }\r\n      return state;\r\n    case END_RESPEC:\r\n      state.doingRespec = false;\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","export default function timeNotation(x) {\r\n  let minute = Math.floor(x/60_000);\r\n  let seconds = Math.floor((x%60_000)/1000);\r\n\r\n  return (minute+\"\").padStart(2, \"0\") + \":\" + (seconds+\"\").padStart(2, \"0\")\r\n}\r\n","import { useState, useCallback } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styled from \"styled-components\";\r\nimport Rescource from \"./Resource.js\";\r\nimport { ResourceArr, getCooldown } from \"../../data/resources.js\";\r\nimport { doRespec } from '../../modules/prestige.js';\r\nimport timeNotation from '../../util/timeNotation.js';\r\n\r\nconst ResourceWarpper = styled.div`\r\n  --cellSize: calc(var(--h) / 9);\r\n\r\n  flex: var(--resourceGridFlexGrow);\r\n\r\n  display: grid;\r\n  grid-template-columns: repeat(9, minmax(var(--cellSize), 1fr));\r\n  grid-auto-rows: var(--cellSize);\r\n  grid-auto-columns: var(--cellSize);\r\n  place-items: center;\r\n`;\r\nconst SelectModeButtons = styled.div`\r\n  position: absolute;\r\n  left: calc(var(--h) / 50);\r\n  bottom: calc(var(--w) / 100);\r\n\r\n  z-index: 1;\r\n`;\r\nconst SelectModeButton = styled.div`\r\n  padding: calc(var(--h) / 100) calc(var(--w) / 200);\r\n  margin: 0 calc(var(--w) / 200);\r\n\r\n  min-width: 20%;\r\n\r\n  display: inline-block;\r\n  \r\n  font-weight: bold;\r\n  color: var(--colReverseWeak);\r\n  text-align: center;\r\n\r\n  box-shadow: var(--baseShadow);\r\n  background-color: var(--colMain3);\r\n\r\n  cursor: pointer;\r\n\r\n  transition: all 0.5s cubic-bezier(.12,.74,.14,.99);\r\n\r\n  &:hover {\r\n    background-color: var(--colMain4);\r\n    transform: scale(1.2);\r\n  }\r\n`;\r\n\r\nfunction ResourceGrid() {\r\n  const [selectMode, setSelectMode] = useState(null);\r\n  const savefile = useSelector(state => state);\r\n  const resourceSave = savefile.resources;\r\n  const EmpowerLeft = resourceSave[74].have - resourceSave.reduce((a, b) => a+b.empower, 0);\r\n\r\n  const Time = new Date().getTime();\r\n  const RespecTime = savefile.prestige.empowererRespecTime;\r\n  const RespecCooldown = 10*60*1000 - (Time-RespecTime);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <>\r\n      <SelectModeButtons>\r\n        <SelectModeButton\r\n          onClick={useCallback(() => {\r\n            if (selectMode !== \"AutoToggle\") {\r\n              setSelectMode(\"AutoToggle\");\r\n            } else {\r\n              setSelectMode(null);\r\n            }\r\n          }, [selectMode])}\r\n          style={selectMode === \"AutoToggle\" ? {\r\n            backgroundColor: \"var(--colAlt1)\",\r\n            color: \"var(--colMain1)\",\r\n          } : {}}\r\n        >\r\n          Toggle Auto\r\n        </SelectModeButton>\r\n        {resourceSave[74].unlocked && (\r\n        <>\r\n          <SelectModeButton\r\n            onClick={() => {\r\n              if (selectMode !== \"Empower\") {\r\n                setSelectMode(\"Empower\");\r\n              } else {\r\n                setSelectMode(null);\r\n              }}\r\n            }\r\n            style={selectMode === \"Empower\" ? {\r\n              backgroundColor: \"var(--colAlt1)\",\r\n              color: \"var(--colMain1)\",\r\n            } : {}}\r\n          >\r\n            Empower ({EmpowerLeft})\r\n          </SelectModeButton>\r\n          <SelectModeButton\r\n            onClick={() => dispatch(doRespec())}\r\n            style={RespecCooldown > 0 ? {\r\n              opacity: 0.4,\r\n              pointerEvents: 'none'\r\n            } : {}}\r\n          >\r\n            {RespecCooldown > 0 ? timeNotation(RespecCooldown) : \"Respec\"}\r\n          </SelectModeButton>\r\n        </>)}\r\n      </SelectModeButtons>\r\n      <ResourceWarpper>\r\n          {ResourceArr.map((Resource, index) => (\r\n            <Rescource\r\n              key={Resource !== null ? Resource.name : `empty_${index}`}\r\n              Resource={Resource}\r\n              selectMode={selectMode}\r\n              index={index}\r\n              empowerLeft={EmpowerLeft}\r\n              cooldown={Resource !== null ? getCooldown(Resource.name, savefile) || Infinity : Infinity}\r\n            />\r\n          ))}\r\n      </ResourceWarpper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResourceGrid;\r\n","import { useSelector, connect } from 'react-redux';\r\nimport { doPrestige } from '../../modules/prestige.js';\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport ResourceImage from \"../ResourceGrid/ResourceImage.js\";\r\n\r\nconst Title = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst ExchangeDispaly = styled.div`\r\n  padding: 0.5% 0;\r\n  width: 100%;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  font-size: 0.8em;\r\n\r\n  background-color: var(--colOverlay);\r\n`;\r\nconst ResourceQuantity = styled.span`\r\n  margin-right: 1%;\r\n`;\r\nconst PrestigeButtonContainer = styled.div`\r\n  flex: 2;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst PrestigeButton = styled.span`\r\n  padding: 10% 10%;\r\n\r\n  font-size: 0.7em;\r\n\r\n  background-color: var(--colMain3);\r\n  border-radius: calc(var(--asideWidth) / 70);\r\n  box-shadow: var(--baseShadow);\r\n\r\n  cursor: pointer;\r\n  transition:\r\n    color 0.15s cubic-bezier(.06,.71,.44,1),\r\n    background-color 0.15s cubic-bezier(.06,.71,.44,1),\r\n    transform 0.15s cubic-bezier(.06,.71,.44,1);\r\n\r\n  &:hover {\r\n    background-color: var(--colMain4);\r\n    transform: scale(1.2);\r\n  }\r\n  &:active {\r\n    color: var(--colMain1);\r\n    background-color: var(--colAlt1);\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nfunction Prestige({ isUnlocked, style, doPrestige }) {\r\n  const PowderHave = useSelector(state => state.resources[72].have);\r\n  const ShardHave = useSelector(state => state.resources[73].have);\r\n  const canPrestige = PowderHave >= 50;\r\n\r\n  return (\r\n    <div style={{\r\n      ...style,\r\n      \"--_imageSize\": \"calc(var(--w) / 40)\"\r\n    }}>\r\n      { isUnlocked ?\r\n        (\r\n          <>\r\n            <Title>Prestige</Title>\r\n            <ExchangeDispaly>\r\n              <ResourceQuantity>\r\n                {PowderHave}\r\n              </ResourceQuantity>\r\n              <ResourceImage\r\n                size=\"var(--_imageSize)\"\r\n                position={{x: 0, y: 8}}\r\n                style={{\r\n                  filter: \"drop-shadow(var(--baseShadow))\"\r\n                }}\r\n              />\r\n              <FontAwesomeIcon\r\n                icon={faArrowRight}\r\n                style={{\r\n                  margin: \"0 2%\",\r\n                  color: \"var(--colReverseWeak)\"\r\n                }}\r\n              />\r\n              <ResourceQuantity>\r\n                {`${ShardHave}(+${PowderHave})`}\r\n              </ResourceQuantity>\r\n              <ResourceImage\r\n                size=\"var(--_imageSize)\"\r\n                position={{x: 1, y: 8}}\r\n                style={{\r\n                  filter: \"drop-shadow(var(--baseShadow))\"\r\n                }}\r\n              />\r\n            </ExchangeDispaly>\r\n            <PrestigeButtonContainer>\r\n              <PrestigeButton\r\n                style={!canPrestige ? {opacity: 0.2, pointerEvents: 'none'} : undefined}\r\n                onClick={() => canPrestige && window.confirm(\"Do you really want to Prestige?\") && doPrestige(PowderHave)}\r\n              >\r\n                {canPrestige ?\r\n                  \"Prestige!\" :\r\n                  <>\r\n                    <span>{`${50-PowderHave} more `}</span>\r\n                    <ResourceImage\r\n                      size=\"calc(var(--_imageSize) / 2)\"\r\n                      position={{x: 0, y: 8}}\r\n                      style={{\r\n                        filter: \"drop-shadow(var(--baseShadow))\",\r\n                        margin: \"0 5%\"\r\n                      }}\r\n                    />\r\n                  </>\r\n                }\r\n              </PrestigeButton>\r\n            </PrestigeButtonContainer>\r\n          </>\r\n        ) : \r\n        (\r\n          \"Locked\"\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  {\r\n    doPrestige\r\n  }\r\n)(Prestige);\r\n","// import styled from 'styled-components';\r\n\r\nfunction NewGame({ style }) {\r\n  return (\r\n    <div style={ style }>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewGame;\r\n","// import styled from 'styled-components';\r\n\r\nfunction Booster({ style }) {\r\n  return (\r\n    <div style={ style }>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Booster;\r\n","// import styled from 'styled-components';\r\n\r\nfunction Stats({ style }) {\r\n  return (\r\n    <div style={ style }>\r\n      Stats coming soon!\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Stats;\r\n","import { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Prestige from './Prestige.js';\r\nimport NewGame from './NewGame.js';\r\nimport Booster from './Booster.js';\r\nimport Stats from './Stats.js';\r\n\r\nconst Container = styled.div`\r\n  --asideWidth: calc(var(--w) / var(--totalFlexGrow) * 7 * 0.97);\r\n\r\n  flex: var(--asideFlexGrow);\r\n\r\n  margin-left: 1.5%;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n\r\n  color: var(--colReverseWeak);\r\n  font-weight: bold;\r\n  font-size: 2em;\r\n\r\n  /* &::after {\r\n    position: absolute;\r\n\r\n    width: var(--asideWidth);\r\n    height: 3px;\r\n\r\n    background: linear-gradient(90deg, #f00 3%, #fff 1%);\r\n\r\n    content: \"Aside Width\";\r\n    opacity: 0.1;\r\n  } */\r\n\r\n  & > div {\r\n    margin: 1%;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-evenly;\r\n    align-items: center;\r\n\r\n    width: 100%;\r\n    background-color: var(--colMain2);\r\n    border-radius: calc(var(--asideWidth) / 60);\r\n    box-shadow: var(--baseShadow);\r\n  }\r\n\r\n  & > div:nth-child(1) {\r\n    flex: 2;\r\n  }\r\n  & > div:nth-child(2) {\r\n    flex: 1;\r\n  }\r\n  & > div:nth-child(3) {\r\n    flex: 3;\r\n  }\r\n  & > div:nth-child(4) {\r\n    flex: 5;\r\n  }\r\n`;\r\n\r\nfunction Aside() {\r\n  const unlockStatus = useSelector(state => state.aside.unlockStatus);\r\n  const lockedStyle = {\r\n    opacity: 0.4,\r\n    pointerEvents: 'none'\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Prestige\r\n        isUnlocked={unlockStatus.Prestige}\r\n        style={!unlockStatus.Prestige ? lockedStyle : {}}\r\n      />\r\n      <NewGame\r\n        isUnlocked={unlockStatus.NewGame}\r\n        style={!unlockStatus.NewGame ? lockedStyle : {}}\r\n      />\r\n      <Booster\r\n        isUnlocked={unlockStatus.Booster}\r\n        style={!unlockStatus.Booster ? lockedStyle : {}}\r\n      />\r\n      <Stats\r\n        style={lockedStyle}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Aside;\r\n","import { load } from \"../saveload\";\r\n\r\nconst UNLOCK_TAB = \"aside/UNLOCK_TAB\";\r\n\r\nexport const unlockTab = (toUnlock) => ({\r\n  type: UNLOCK_TAB,\r\n  toUnlock,\r\n});\r\n\r\nfunction reducer(state = load().aside, action) {\r\n  switch (action.type) {\r\n    case UNLOCK_TAB:\r\n      state.unlockStatus = {\r\n        ...state.unlockStatus,\r\n        [action.toUnlock]: true,\r\n      };\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import { combineReducers } from \"redux\";\r\nimport resources from \"./resources.js\";\r\nimport aside from \"./aside.js\";\r\nimport prestige from \"./prestige.js\";\r\n\r\nconst rootReducer = combineReducers({\r\n  resources,\r\n  aside,\r\n  prestige,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { save } from \"../saveload\";\r\n\r\nconst IMPORT = \"dataManager/IMPORT\";\r\n\r\nexport const importSave = (data) => ({\r\n  type: IMPORT,\r\n  data,\r\n});\r\n\r\nfunction reducer(reducers) {\r\n  return function (state = {}, action) {\r\n    switch (action.type) {\r\n      case IMPORT:\r\n        save(action.data);\r\n        return action.data;\r\n      default:\r\n        return reducers(state, action);\r\n    }\r\n  };\r\n}\r\n\r\nexport default reducer;\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"./modules\";\r\nimport dataManager from \"./modules/dataManager\";\r\n\r\nconst store = createStore(dataManager(rootReducer));\r\n\r\nexport default store;\r\n","import { useState } from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faBars,\r\n  faClipboard,\r\n  faFileExport,\r\n  faHistory,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faDiscord } from \"@fortawesome/free-brands-svg-icons\";\r\nimport store from \"../store\";\r\nimport { importSave } from \"../modules/dataManager\";\r\n\r\nconst MenuContainer = styled.div`\r\n  position: absolute;\r\n  right: calc(var(--w) / 100 * 3);\r\n  bottom: calc(var(--h) / 100 * 3);\r\n\r\n  text-align: right;\r\n\r\n  z-index: 2;\r\n`;\r\nconst MenuOpen = styled.div`\r\n  border-radius: 50%;\r\n  background-color: var(--colMain4);\r\n  box-shadow: var(--baseShadow);\r\n\r\n  margin-left: auto; /** Self right align */\r\n  width: calc(var(--baseSize) / 25);\r\n\r\n  cursor: pointer;\r\n\r\n  transition: transform 0.5s cubic-bezier(0, 0.75, 0.21, 1),\r\n    background-color 0.3s cubic-bezier(0, 0.75, 0.21, 1);\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n  &:active {\r\n    transform: scale(1);\r\n    background-color: var(--colAlt1);\r\n\r\n    transition: transform 0.5s cubic-bezier(0, 0.75, 0.21, 1),\r\n      background-color 0s cubic-bezier(0, 0.75, 0.21, 1);\r\n  }\r\n`;\r\nconst MenuList = styled.div`\r\n  padding: 3%;\r\n\r\n  width: calc(var(--baseSize) / 10);\r\n\r\n  backdrop-filter: blur(calc(var(--baseSize) / 1000));\r\n\r\n  z-index: 1;\r\n\r\n  & > div:not(::last-child) {\r\n    margin-bottom: calc(var(--h) / 100);\r\n  }\r\n`;\r\nconst MenuItemAppear = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(150%);\r\n  }\r\n  30% {\r\n    opacity: 0;\r\n    transform: translateX(150%);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0%);\r\n  }\r\n`;\r\nconst MenuItem = styled.div`\r\n  --itemHeight: calc(var(--h) / 45);\r\n  --gradientCol: var(--colMain4);\r\n\r\n  width: 100%;\r\n\r\n  padding: calc(var(--itemHeight) / 5);\r\n  margin: calc(var(--itemHeight) / 3);\r\n\r\n  border-radius: calc(var(--itemHeight) / 3);\r\n  background: linear-gradient(\r\n    to left,\r\n    var(--gradientCol) 0%,\r\n    rgba(0, 0, 0, 0) 70%\r\n  );\r\n\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n\r\n  animation: ${MenuItemAppear} 0.4s cubic-bezier(0.11, 0.94, 0.37, 0.99);\r\n  cursor: pointer;\r\n  transition: width 0.4s cubic-bezier(0.11, 0.94, 0.37, 0.99),\r\n    background-size 0.4s cubic-bezier(0.11, 0.94, 0.37, 0.99),\r\n    transform 0.4s cubic-bezier(0.11, 0.94, 0.37, 0.99),\r\n    color 0.4s cubic-bezier(0.11, 0.94, 0.37, 0.99);\r\n\r\n  &:hover {\r\n    --gradientCol: var(--colAlt1);\r\n\r\n    width: 120%;\r\n    transform: translateX(calc(-20% / 1.2));\r\n    background-size: 200%;\r\n    color: var(--colAlt1);\r\n  }\r\n`;\r\nconst MentItemTitile = styled.span`\r\n  font-size: var(--itemHeight);\r\n  font-weight: bold;\r\n`;\r\n/** const OverlayBg = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n\r\n  width: 100vw;\r\n  height: 100vh;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  background-color: var(--colOverlayReverse);\r\n\r\n  z-index: 9999;\r\n`;\r\nconst OverlayClose = styled.div`\r\n  position: absolute;\r\n  right: calc(var(--baseSize) / 40);\r\n  top: calc(var(--baseSize) / 40);\r\n\r\n  width: calc(var(--baseSize) / 20);\r\n  height: calc(var(--baseSize) / 20);\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  \r\n  font-size: calc(var(--baseSize) / 25);\r\n  font-weight: bold;\r\n\r\n  background-color: var(--colMain4);\r\n  border-radius: 50%;\r\n\r\n  cursor: pointer;\r\n\r\n  transition: transform 0.3s cubic-bezier(0,.91,1,1.27);\r\n\r\n  &:hover {\r\n    transform: rotate(90deg);\r\n  }\r\n`;\r\nconst OverlayWindow = styled.div`\r\n  \r\n`; */\r\n\r\nconst MENU_LIST = [\r\n  {\r\n    title: \"Export\",\r\n    icon: faFileExport,\r\n    func: () => {\r\n      let toExport = window.btoa(JSON.stringify(store.getState()));\r\n      let successState = false;\r\n\r\n      if (window.isSecureContext) {\r\n        try {\r\n          navigator.clipboard.writeText(toExport);\r\n          successState = true;\r\n        } catch (e) {}\r\n      }\r\n      \r\n      if (!successState) {\r\n        // from (https://stackoverflow.com/a/60292243/13817471)\r\n        var textArea = document.createElement(\"textarea\");\r\n        textArea.value = toExport;\r\n        textArea.style.position = \"fixed\";  //avoid scrolling to bottom\r\n        document.body.appendChild(textArea);\r\n        textArea.focus();\r\n        textArea.select();\r\n        try {\r\n          document.execCommand('copy');\r\n          successState = true;\r\n        } catch (e) {}\r\n        document.body.removeChild(textArea);\r\n      }\r\n\r\n      if (successState) {\r\n        window.alert(\"Exported to clipboard!\");\r\n      } else {\r\n        window.prompt(\"Copy failed, here's a text box to manual copy: \", toExport);\r\n      }\r\n    }\r\n  },\r\n  {\r\n    title: \"Import\",\r\n    icon: faClipboard,\r\n    func: () => {\r\n      const encryptedSavefile = window.prompt(\"Import Save\");\r\n      const toSave = JSON.parse(window.atob(encryptedSavefile));\r\n      store.dispatch(importSave(toSave));\r\n    },\r\n  },\r\n  {\r\n    title: \"Recover\",\r\n    icon: faHistory,\r\n    func: () => alert(\"TBA!\"),\r\n  },\r\n  {\r\n    title: \"Discord\",\r\n    icon: faDiscord,\r\n    func: () => window.open(\"https://discord.gg/wkdVQxT\", \"_blank\"),\r\n  },\r\n];\r\n\r\nfunction Menu() {\r\n  const [menuToggle, setMenuToggle] = useState(false);\r\n  // const [overlayState, setOverlayState] = useState(null);\r\n\r\n  return (\r\n    <>\r\n      <MenuContainer>\r\n        {menuToggle && (\r\n          <MenuList>\r\n            {MENU_LIST.map((item, idx) => (\r\n              <MenuItem\r\n                key={item.title}\r\n                data-animation-offset={idx}\r\n                onClick={() => item.func()}\r\n                style={{\r\n                  animationDuration: 200 * (idx + 1) + \"ms\",\r\n                }}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={item.icon}\r\n                  style={{\r\n                    width: \"var(--itemHeight)\",\r\n                    height: \"var(--itemHeight)\",\r\n                  }}\r\n                />\r\n                <MentItemTitile>{item.title}</MentItemTitile>\r\n              </MenuItem>\r\n            ))}\r\n          </MenuList>\r\n        )}\r\n        <MenuOpen\r\n          onClick={() => setMenuToggle(!menuToggle)}\r\n          style={menuToggle ? { backgroundColor: \"var(--colAlt1)\" } : {}}\r\n        >\r\n          <FontAwesomeIcon\r\n            icon={faBars}\r\n            style={{\r\n              width: \"calc(var(--baseSize) / 25)\",\r\n              height: \"calc(var(--baseSize) / 25)\",\r\n\r\n              color: \"var(--colReverse)\",\r\n              transform: \"scale(0.4)\",\r\n            }}\r\n          />\r\n        </MenuOpen>\r\n      </MenuContainer>\r\n      {/* {overlayState && (\r\n        <OverlayBg>\r\n          <OverlayClose\r\n            onClick={() => setOverlayState(null)}\r\n          >\r\n            ×\r\n          </OverlayClose>\r\n        </OverlayBg>\r\n      )} */}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n","import \"./font/font.css\";\r\nimport styled, { createGlobalStyle } from 'styled-components';\r\nimport ResourceGrid from \"./components/ResourceGrid/ResourceGrid.js\"; \r\nimport Aside from \"./components/Aside/Aside.js\";\r\nimport Menu from './components/Menu.js';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n  \r\n    white-space: nowrap;\r\n    \r\n    user-select: none;\r\n  }\r\n  \r\n  body {\r\n    width: 100vw;\r\n    height: 100vh;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    overflow: hidden;\r\n\r\n    color: var(--colReverse);\r\n\r\n    background-color: var(--colMain1);\r\n\r\n    /** Size */\r\n    @media only screen and (orientation: portrait) {\r\n    --baseSize: 90vw;\r\n    }\r\n    @media only screen and (orientation: landscape) {\r\n      --baseSize: min(83vw, 160vh);\r\n    }\r\n    --w: var(--baseSize);\r\n    --h: calc(var(--baseSize) * 9 / 16);\r\n    font-size: calc(var(--h) / 70);\r\n    @media only screen and (min-width: 1700px) and (min-height: 1000px) {\r\n      --w: 1600px;\r\n      --h: 900px;\r\n      font-size: calc(var(--h) / 70);\r\n    }\r\n    --baseShadow: calc(var(--h) / 250) calc(var(--h) / 250) 0 var(--colStrong);\r\n    --baseShadowSmall: calc(var(--h) / 500) calc(var(--h) / 500) 0 var(--colStrong);\r\n  }\r\n  body#theme-dark, body:not(#theme-light){\r\n    --colStrong: #000000;\r\n    --colMain1: #191919;\r\n    --colMain2: #2a2a2a;\r\n    --colMain3: #3a3a3a;\r\n    --colMain4: #4a4a4a;\r\n    --colReverse: #ffffff;\r\n    --colReverseWeak: #efefef;\r\n    --colReverseWeaker: #cdcdcd;\r\n    --colAlt1: #13d1f2;\r\n    --colOverlay: #fff3;\r\n    --colOverlayReverse: #0006;\r\n  }\r\n  body#theme-light {\r\n    --colStrong: #ffffff;\r\n    --colMain1: #ffffff;\r\n    --colMain2: #efefef;\r\n    --colMain3: #dedede;\r\n    --colMain4: #cdcdcd;\r\n    --colReverse: #191919;\r\n    --colReverseWeak: #2a2a2a;\r\n    --colReverseWeaker: #4a4a4a;\r\n    --colAlt1: #f29913;\r\n    --colOverlay: #0003;\r\n    --colOverlayReverse: #fff6;\r\n  }\r\n`;\r\nconst MainContainer = styled.div`\r\n  --resourceGridFlexGrow: 9;\r\n  --asideFlexGrow: 7;\r\n  --totalFlexGrow: calc(var(--resourceGridFlexGrow) + var(--asideFlexGrow));\r\n\r\n  display: flex;\r\n\r\n  width: var(--w);\r\n  height: var(--h);\r\n\r\n  border-radius: calc(var(--h) / 50);\r\n\r\n  transition: \r\n    background-image 0.5s linear,\r\n    background-color 0.3s ease-out;\r\n`;\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <GlobalStyle />\r\n      <MainContainer>\r\n        {\r\n          (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') &&\r\n          <span style={{\r\n            top: 0, left: 0,\r\n            position: 'absolute',\r\n            color: \"var(--colReverse)\",\r\n            fontSize: \"1.3em\",\r\n            pointerEvents: \"none\",\r\n            opacity: 0.6,\r\n            fontWeight: \"bold\"\r\n          }}>Dev Mode Activated (Speed x30)</span>\r\n        }\r\n        <ResourceGrid />\r\n        <Aside />\r\n      </MainContainer>\r\n      <Menu />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import store from \"./store.js\";\r\n// eslint-disable-next-line\r\nimport { DefaultSave } from \"./saveload.js\";\r\nimport { save } from \"./saveload.js\";\r\nimport {\r\n  Resources,\r\n  ResourceArr,\r\n  getCooldown,\r\n  canBuy,\r\n  AutoConnected,\r\n  isUnlocked,\r\n} from \"./data/resources.js\";\r\nimport {\r\n  craftStart,\r\n  craftUpdate,\r\n  resourceUnlock,\r\n  removeEmpowerer,\r\n  resetResourceData,\r\n} from \"./modules/resources.js\";\r\nimport { unlockTab } from \"./modules/aside.js\";\r\nimport { endPrestige, endRespec } from \"./modules/prestige.js\";\r\n\r\nconst devMode = !process.env.NODE_ENV || process.env.NODE_ENV === \"development\";\r\nlet lastSave = new Date().getTime();\r\n\r\nfunction Tick() {\r\n  /**\r\n   * @type {DefaultSave}\r\n   */\r\n  const savefile = store.getState();\r\n  const Time = new Date().getTime();\r\n\r\n  if (Time - lastSave > 5000) {\r\n    lastSave = Time;\r\n    save(savefile);\r\n  }\r\n\r\n  // Resources\r\n  for (let i = 0; i < ResourceArr.length; i++) {\r\n    const Resource = ResourceArr[i];\r\n    if (Resource === null) continue;\r\n    const order = i;\r\n    const save = savefile.resources[order];\r\n    const isAuto = 1 <= savefile.resources[AutoConnected[order]]?.have;\r\n\r\n    // Check Unlocked\r\n    if (\r\n      !save.unlocked &&\r\n      (save.have >= 1 || isUnlocked(Resource.name, savefile.resources))\r\n    ) {\r\n      store.dispatch(resourceUnlock(order));\r\n    }\r\n\r\n    // Start Automate\r\n    if (Resource.automates && save.have >= 1) {\r\n      for (let j = 0; j < Resource.automates.length; j++) {\r\n        const _Resource = Resources[Resource.automates[j]];\r\n        const _order = _Resource.order;\r\n        if (\r\n          savefile.resources[_order].lastTime !== null ||\r\n          canBuy(_Resource.name, savefile) === 0 ||\r\n          savefile.resources[_order].automationDisabled\r\n        )\r\n          continue;\r\n        store.dispatch(craftStart(_order, true));\r\n      }\r\n    }\r\n\r\n    // Check craft end\r\n    const lastTime = save.lastTime;\r\n    if (lastTime !== null && Resource.craftTime !== undefined) {\r\n      let craftTime = getCooldown(Resource.name, savefile);\r\n      let progressIncrement =\r\n        ((Time - lastTime) / craftTime) * (devMode ? 30 : 1);\r\n      store.dispatch(\r\n        craftUpdate({\r\n          order: i,\r\n          isAuto,\r\n          Time,\r\n          progressIncrement,\r\n          dontUpdate: savefile.prestige.doingPrestige,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  // Aside\r\n  const unlockStatus = savefile.aside.unlockStatus;\r\n  if (\r\n    !unlockStatus.Prestige &&\r\n    savefile.resources[Resources.DivinePowder.order].have >= 1\r\n  ) {\r\n    store.dispatch(unlockTab(\"Prestige\"));\r\n  }\r\n\r\n  // Prestige\r\n  if (\r\n    savefile.prestige.doingPrestige &&\r\n    savefile.prestige.tmpPrestigeResourceQuantity >= 1\r\n  ) {\r\n    store.dispatch(\r\n      craftUpdate({\r\n        order: Resources.DivineShard.order,\r\n        progressIncrement: savefile.prestige.tmpPrestigeResourceQuantity,\r\n        isAuto: true,\r\n      })\r\n    );\r\n    for (let i = 0; i < ResourceArr.length; i++) {\r\n      store.dispatch(resetResourceData(i));\r\n    }\r\n    store.dispatch(endPrestige());\r\n  }\r\n  // Empowerer Respec\r\n  if (savefile.prestige.doingRespec) {\r\n    for (let i = 0; i < ResourceArr.length; i++) {\r\n      store.dispatch(removeEmpowerer(i));\r\n    }\r\n    store.dispatch(endRespec());\r\n  }\r\n}\r\n\r\nexport default Tick;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport tick from \"./tick.js\";\r\nimport store from \"./store.js\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nsetInterval(() => tick(), 1000 / 60);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}